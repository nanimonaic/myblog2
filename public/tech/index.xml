<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>æŠ€æœ¯ on nanimonai&#39;s Blog</title>
    <link>https://blog.nanimonai.org/tech/</link>
    <description>Recent content in æŠ€æœ¯ on nanimonai&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Fri, 19 Apr 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.nanimonai.org/tech/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>BabyRSA</title>
      <link>https://blog.nanimonai.org/posts/tech/babyrsa/</link>
      <pubDate>Fri, 19 Apr 2024 00:00:00 +0000</pubDate>
      
      <guid>https://blog.nanimonai.org/posts/tech/babyrsa/</guid>
      <description>åˆè¯•Crypto</description>
      <content:encoded><![CDATA[<h1 id="ä¸ºä»€ä¹ˆç ”ç©¶è¿™ä¸ª">ä¸ºä»€ä¹ˆç ”ç©¶è¿™ä¸ª</h1>
<p>æˆ‘æ˜¯ğŸ•Šå¤§ç‹ï¼Œæœ¬æ¥4.6ä¸€æ¯”å®Œå°±æƒ³å†™äº†ï¼Œç¡¬é¸½åˆ°ä»Šå¤©ã€‚ä¸»è¦ä¹Ÿæ˜¯å› ä¸ºä¸€å †ä½œä¸šè€ƒè¯•ç»™åº”ä»˜å¾—æ‰‹å¿™è„šä¹±çš„ã€‚</p>
<p>è¿™ä¸ªæ˜¯æˆ‘ä»¬æ ¡å†…çš„CTFä¸­çš„ä¸€ä¸ªé¢˜ç›®åä¸ºâ€œbabyrsaâ€ï¼Œä¸‹è½½ä¸‹æ¥ä¹‹åæ˜¯ä¸€ä¸ªbabyrsa.pyï¼Œäºæ˜¯æˆ‘è¯•å›¾è®¤çœŸåœ°å­¦ä¸€ä¸‹rsaçš„çŸ¥è¯†ã€‚åœ¨ã€Šå¯†ç ç¼–ç å­¦ä¸ç½‘ç»œå®‰å…¨ã€‹è¿™æœ¬ä¹¦ä¸­æŒ‡å‡ºï¼šå¾ˆå¤šçš„å…¬é’¥å¯†ç ä½“åˆ¶çš„ç†è®ºéƒ½åŸºäºæ•°è®ºï¼Œå¦‚æœè¯»è€…æ¥å—æœ¬ç« ä¸­ç»™å‡ºçš„ç»“è®ºï¼Œé‚£ä¹ˆä¾¿ä¸å¿…ä¸¥æ ¼åœ°ç†è§£æ•°è®ºçš„æœ‰å…³çŸ¥è¯†ã€‚ç„¶è€Œï¼Œè¦å®Œå…¨ç†è§£å…¬é’¥ç®—æ³•ï¼Œå°±éœ€è¦ç†è§£è¿™äº›æ•°è®ºçŸ¥è¯†ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘å¯¹äºæ•°è®ºçš„è®¤çŸ¥å®Œå…¨åœç•™åœ¨åˆäºŒé‚£ä¸ªæš‘å‡å»å­¦é™¢æ•°ç«åŸ¹è®­çš„æ—¶é—´ï¼Œå½“æ—¶æœ‰ä¸€ä½è€å¸ˆä¸“é—¨è®²åˆ°äº†æ•°è®ºï¼Œæˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°â€œæ¨¡ååŒä½™â€è¿™ä¸ªæ¦‚å¿µï¼Œä¹Ÿç¬¬ä¸€æ¬¡æ¥è§¦åˆ°æ‰€è°“çš„ä¸­å›½å‰©ä½™å®šç†ï¼ˆåœ¨å½“æ—¶æˆ‘çš„æ³¨æ„åŠ›åŸºæœ¬éƒ½è¢«è§£æå‡ ä½•å’Œå››ç‚¹å…¬åœ†çš„å¥‡è‘©é¢˜ç›®ç»™å¸å¼•ä½äº†ï¼‰</p>
<h1 id="è‡ªä½¿ç–‘å§‹é‡Š">è‡ªä½¿ç–‘å§‹é‡Š</h1>
<p>å›åˆ°ä¸»é¢˜ï¼Œåœ¨å…¬é’¥å¯†ç ä½“åˆ¶ä¸­åŸºæœ¬ç”±6ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<p><strong>æ˜æ–‡</strong>ï¼šè¿™æ˜¯åŸå§‹æœªåŠ å¯†çš„ä¿¡æ¯æˆ–æ•°æ®ï¼Œæ˜¯åŠ å¯†è¿‡ç¨‹çš„è¾“å…¥ã€‚</p>
<p><strong>åŠ å¯†ç®—æ³•</strong>ï¼šè¿™æ˜¯ä¸€ç³»åˆ—ç”¨äºå°†æ˜æ–‡è½¬æ¢ä¸ºå¯†æ–‡çš„è§„åˆ™å’Œæ­¥éª¤ã€‚åœ¨å…¬é’¥åŠ å¯†ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹åˆ©ç”¨äº†å…¬é’¥ã€‚
å…¬é’¥ï¼šè¿™æ˜¯ä¸€ä¸ªæ•°å­—è¯ä¹¦ï¼Œç”¨äºåŠ å¯†æ˜æ–‡æˆ–éªŒè¯ç­¾åï¼Œå…¬å¼€å¯è·å–ã€‚ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å…¬é’¥æ¥åŠ å¯†ä¿¡æ¯ï¼Œä½†åªæœ‰æŒæœ‰å¯¹åº”ç§é’¥çš„æ¥æ”¶è€…èƒ½å¤Ÿè§£å¯†ã€‚</p>
<p><strong>å¯†æ–‡</strong>ï¼šç»è¿‡åŠ å¯†ç®—æ³•å¤„ç†åäº§ç”Ÿçš„åŠ å¯†è¿‡åçš„ä¿¡æ¯æˆ–æ•°æ®ï¼Œåªæœ‰æ‹¥æœ‰ç›¸åº”ç§é’¥çš„äººæ‰èƒ½è§£å¯†å›æ˜æ–‡ã€‚</p>
<p><strong>è§£å¯†ç®—æ³•</strong>ï¼šè¿™æ˜¯ä¸€ç³»åˆ—ç”¨äºå°†å¯†æ–‡è½¬æ¢å›æ˜æ–‡çš„è§„åˆ™å’Œæ­¥éª¤ã€‚åœ¨å…¬é’¥åŠ å¯†ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹åˆ©ç”¨äº†ç§é’¥ã€‚</p>
<p><strong>ç§é’¥</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªæ•°å­—è¯ä¹¦ï¼Œç”¨äºè§£å¯†æ”¶åˆ°çš„ä¿¡æ¯æˆ–è¿›è¡Œæ•°å­—ç­¾åï¼Œåº”å½“è¢«å¯†åˆ‡ä¿æŠ¤ï¼Œä¸å¯¹å¤–å…¬å¼€ã€‚ç§é’¥ç¡®ä¿åªæœ‰å¯†é’¥çš„æŒæœ‰è€…æ‰èƒ½è§£å¯†é‚£äº›ç”¨å¯¹åº”å…¬é’¥åŠ å¯†çš„ä¿¡æ¯ã€‚</p>
<p>1976å¹´ï¼Œä¸¤ä½ç¾å›½è®¡ç®—æœºå­¦å®¶Whitfield Diffie å’Œ Martin Hellmanï¼Œæå‡ºäº†ä¸€ç§å´­æ–°æ„æ€ï¼Œå¯ä»¥åœ¨ä¸ç›´æ¥ä¼ é€’å¯†é’¥çš„æƒ…å†µä¸‹ï¼Œå®Œæˆè§£å¯†ã€‚è¿™è¢«ç§°ä¸º&quot;Diffie-Hellmanå¯†é’¥äº¤æ¢ç®—æ³•&quot;ã€‚è¿™ä¸ªç®—æ³•å¯å‘äº†å…¶ä»–ç§‘å­¦å®¶ã€‚äººä»¬è®¤è¯†åˆ°ï¼ŒåŠ å¯†å’Œè§£å¯†å¯ä»¥ä½¿ç”¨ä¸åŒçš„è§„åˆ™ï¼Œåªè¦è¿™ä¸¤ç§è§„åˆ™ä¹‹é—´å­˜åœ¨æŸç§å¯¹åº”å…³ç³»å³å¯ï¼Œè¿™æ ·å°±é¿å…äº†ç›´æ¥ä¼ é€’å¯†é’¥ã€‚</p>
<p>è¿™ç§æ–°çš„åŠ å¯†æ¨¡å¼è¢«ç§°ä¸º&quot;<strong>éå¯¹ç§°åŠ å¯†ç®—æ³•</strong>&quot;ã€‚å¦‚æœå…¬é’¥åŠ å¯†çš„ä¿¡æ¯åªæœ‰ç§é’¥è§£å¾—å¼€ï¼Œé‚£ä¹ˆåªè¦ç§é’¥ä¸æ³„æ¼ï¼Œé€šä¿¡å°±æ˜¯å®‰å…¨çš„ã€‚</p>
<p>ï¼ˆ1ï¼‰ä¹™æ–¹ç”Ÿæˆä¸¤æŠŠå¯†é’¥ï¼ˆå…¬é’¥å’Œç§é’¥ï¼‰ã€‚å…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ï¼Œç§é’¥åˆ™æ˜¯ä¿å¯†çš„ã€‚</p>
<p>ï¼ˆ2ï¼‰ç”²æ–¹è·å–ä¹™æ–¹çš„å…¬é’¥ï¼Œç„¶åç”¨å®ƒå¯¹ä¿¡æ¯åŠ å¯†ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¹™æ–¹å¾—åˆ°åŠ å¯†åçš„ä¿¡æ¯ï¼Œç”¨ç§é’¥è§£å¯†ã€‚</p>
<p>1977å¹´ï¼Œä¸‰ä½æ•°å­¦å®¶Rivestã€Shamir å’Œ Adleman è®¾è®¡äº†ä¸€ç§ç®—æ³•ï¼Œå¯ä»¥å®ç°éå¯¹ç§°åŠ å¯†ã€‚è¿™ç§ç®—æ³•ç”¨ä»–ä»¬ä¸‰ä¸ªäººçš„åå­—å‘½åï¼Œå«åšRSAç®—æ³•ã€‚ä»é‚£æ—¶ç›´åˆ°ç°åœ¨ï¼ŒRSAç®—æ³•ä¸€ç›´æ˜¯æœ€å¹¿ä¸ºä½¿ç”¨çš„&quot;éå¯¹ç§°åŠ å¯†ç®—æ³•&quot;ã€‚æ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œåªè¦æœ‰è®¡ç®—æœºç½‘ç»œçš„åœ°æ–¹ï¼Œå°±æœ‰RSAç®—æ³•ã€‚</p>
<p>RSAæ˜¯ä¸€ç§åˆ†ç»„å¯†ç ï¼Œå…¶å¯†æ–‡å’Œæ˜æ–‡éƒ½æ˜¯0~n-1ä¹‹é—´çš„è¯ä¹¦ï¼Œé€šå¸¸næ˜¯1024ä½çš„äºŒè¿›åˆ¶æ•°æˆ–309ä½çš„åè¿›åˆ¶æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´n&lt;2^1024ã€‚æ˜æ–‡åˆ†ç»„è¿›è¡ŒåŠ å¯†ï¼Œæ¯ä¸ªåˆ†ç»„çš„äºŒè¿›åˆ¶å€¼å‡å°äºnã€‚</p>
<p>ï¼ˆ1ï¼‰é€‰å®šä¸¤ä¸ªç´ æ•°(p,q)ï¼ˆä¿å¯†çš„ï¼Œé€‰å®šçš„ï¼‰</p>
<p>ï¼ˆ2ï¼‰n=pq(å…¬å¼€çš„ï¼Œè®¡ç®—å¾—å‡ºçš„)</p>
<p>ï¼ˆ3ï¼‰e,æ»¡è¶³gcd(Ï†(n),e)=1,1&lt;e&lt;Ï†(n)ï¼ˆå…¬å¼€çš„ï¼Œé€‰å®šçš„ï¼‰</p>
<p>ï¼ˆ4ï¼‰dâ‰¡e^-1(mod Ï†(n))ï¼ˆä¿å¯†çš„ï¼Œè®¡ç®—å¾—å‡ºçš„ï¼‰</p>
<p>ç§é’¥ä¸º{dï¼Œn}ï¼Œå…¬é’¥ä¸º{e,n}ã€‚å‡è®¾Aå…¬å¸ƒäº†å¯†é’¥ï¼Œç”¨æˆ·Bè¦å‘é€æ¶ˆæ¯Mç»™Aï¼Œé‚£ä¹ˆç”¨æˆ·Båªéœ€è¦è®¡ç®— Mâ‰¡C^d(mod n)å¹¶å‘é€ç»™Cï¼›åœ¨æ¥æ”¶ç«¯ï¼Œç”¨æˆ·Aè®¡ç®—Mâ‰¡C^d(mod n)ä»¥è§£å‡ºæ¶ˆæ¯Mã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨rsaåŠ å¯†è§£å¯†ä¸­éƒ½éœ€è¦è®¡ç®—æŸä¸ªæ•´æ•°æ¨¡nçš„æ•´æ•°æ¬¡å¹‚ï¼Œå¦‚æœå…ˆæ±‚æ•´æ•°çš„å¹‚å†æ¨¡nï¼Œsoleideiï¼Œä¸­é—´çš„ç»“æœä¼šéå¸¸å¤§ã€‚å¯ä»¥è¿ç”¨æ¨¡ç®—æœ¯çš„æ€§è´¨è§£å†³ï¼Œå»ç®€åŒ–ä¸ºå¯¹ä¸­é—´çš„è®¡ç®—ç»“æœæ¨¡nã€‚å› ä¸ºåœ¨rsaä¸­ä½¿ç”¨çš„æŒ‡æ•°å¾ˆå¤§ï¼Œæ‰€ä»¥è¿˜å¾—è€ƒè™‘å¹‚è¿ç®—çš„æ•ˆç‡é—®é¢˜å¦‚æœæ­£å¸¸è®¡ç®—x^16æ¬¡æ–¹ï¼Œéœ€è¦è¿›è¡Œ15æ¬¡ä¹˜æ³•ï¼Œè¿™æ ·å­çš„è¯å¯¹åŠ å¯†è§£å¯†çš„æ—¶é—´å°±ä¸Šäº†å¾ˆå¤§çš„å‹åŠ›ã€‚ä½†æ˜¯å¯ä»¥å–é‡å¤æ¯ä¸ªéƒ¨åˆ†ç»“æœçš„å¹³æ–¹ï¼ˆ2^2,2^4,2^8,2^16ï¼‰,å°±åªéœ€è¦å››æ¬¡ä¹˜æ³•äº†ã€‚</p>
<p>ç»™å‡ºæ™®éçš„è®¡ç®—a^b mod nçš„ç®—æ³•ï¼Œå…¶ä¸­é‡Œé¢çš„å˜é‡cä¸æ˜¯å¿…é¡»çš„ï¼Œæ•´æ•°bè¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ•°ï¼Œå¼•å…¥å®ƒä¸ºäº†è§£é‡Šç®—æ³•ï¼Œcçš„ç»ˆå€¼å³ä½¿æŒ‡æ•°å€¼ï¼š</p>
<pre tabindex="0"><code>câ†0;fâ†1
for iâ†k downto 0
	do câ†2*c
	   fâ†(f*f) mod n
	if bi=1		ï¼ˆbi iæ˜¯ä¸‹æ ‡ï¼‰
		then câ†c+1
		  fâ†(f*a) mod n
	return f
</code></pre><p>æˆ‘æ˜¯æ‡‚å“¥ï¼Œæ¯”èµ›çœ‹åˆ°è¿™é‡Œå‡è£…è‡ªå·±æ‡‚äº†ï¼Œç„¶åå¼€å§‹çœ‹é¢˜ç›®ã€‚åæ¥æˆ‘å‘ç°å¯¹äºçœŸæ­£çš„rsaç³»åˆ—é¢˜ç›®è¿˜æœ‰ä¸€ç³»åˆ—éš¾ç‚¹æ¶‰åŠåˆ°eçš„å–å€¼ï¼ˆ3ï¼Œ17ï¼Œ65537ï¼‰ï¼Œå„ä¸ªæƒ…å†µçš„äº’ç›¸æ±‚è§£ï¼Œä¸åŒçš„æ”»å‡»æ–¹å¼ç­‰ç­‰ï¼Œä¹Ÿè¦äº†è§£å¦‚ä¸­å›½å‰©ä½™å®šç†ï¼Œè´¹é©¬å®šç†ï¼ŒMiller-Rabinç®—æ³•ä»€ä¹ˆçš„ï¼Œæš‚ä¸”æŒ‰ä¸‹ä¸è¡¨ã€‚</p>
<h1 id="babyçš„rsa">Babyçš„rsa</h1>
<p>æ¥çœ‹ä¸€ä¸‹æºç ï¼š</p>
<pre tabindex="0"><code>from gmpy2 import lcm
from Crypto.Util.number import getPrime, bytes_to_long

p = getPrime(1024)
q = getPrime(1024)
n = p*q
e = 54666
h = lcm(p - 1 , q - 1)
flag = b&#39;FCTF{***********}&#39;
m = bytes_to_long(flag)
c = pow(m, e, n)
print(&#39;n: &#39;, n)
print(&#39;h: &#39;, h)
print(&#39;c: &#39;, c)




&#39;&#39;&#39;
n:  25527104228224088488040470054859297799684430729586201999927539150044992353999083976287914924970569469434686168557247480896928199907052200737794107820101535432772515334456482673511185210116841919416618006696356771202410487435695207310741143088507315599413718818919895412368893805095614918899139207456629111515498628424508456173008212962396577655489900115537922862725514355690650346542020236913649627901430140820374812887483132677589636744805036428604336253688728768629554430310965303561197842773841768036265483485885167914975226451364872214945774294272151759555341126251417977165442601848916571897507614450138696307441
h:  3190888028528011061005058756857412224960553841198275249990942393755624044249885497035989365621321183679335771069655935112116024988381525092224263477512691929096564416807060334188898151264605239927077250837044596400301310929461900913842642886063414449926714852364986926546111725636951864862392400932078638939397162813314446093112008451870874459413340817966632865485406320788272316381137437957674310631802876313435533326327324210320100692584743680300917008843045504725648240011406960704841222641567549521400885041138306803979812904472944466100873729786606242613061006721938847831340052029664934674085291935568007804584
c:  13816656057233504242725466607519098922616296851282996573245636803888321169952138063011430581813327223855035775201965978271601144858474586480811825971179893352623779199435743915535990803704703901640138034283878850535619383284762202523145531803148037944606221169858890092284283768859214489478888725916054874525393017572123038563581085488781982829726844109883458439559508856073477596828594786184067989967020470472291721891068880110540699901476565507918536144452248311628215837448639176024403880919704090284307989085868140402906218076204485172179740170107661474514833980476371750724966421481356221210695767530318458804012
</code></pre><p>çœ‹èµ·æ¥éå¸¸å“äººã€‚</p>
<p>åœ¨è¿™ä¸ªä½æ•°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¸çŸ¥é“èƒ½ä¸èƒ½æŠŠä»–åˆ†è§£ï¼Œä½¿ç”¨ä¸€äº›å¸¸è§„æ‰‹æ®µå¾—ç­‰ä¸Šå¥½ä¹…ï¼Œè§‰å¾—å¯èƒ½æ²¡é‚£ä¹ˆç®€å•ã€‚</p>
<p>æ³¨æ„åˆ°ï¼Œe = 54666ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªç´ æ•°ã€‚ç›®å‰æˆ‘ä»¬åªçŸ¥é“eï¼Œhï¼Œcï¼Œnã€‚æˆ‘åˆšå¼€å§‹ä»¥ä¸ºå¯ä»¥ç›´æ¥ä»hå’Œnç›´æ¥é€†æ¨å‡ºpå’Œqï¼Œè¿˜æ˜¯å¤ªå¤©çœŸäº†ã€‚ç„¶åå»ç½‘ç»œä¸Šæ‰¾ï¼Œå‘ç°æœ‰äººè®²è¿‡è¿™ç§é¢˜å‹ï¼Œä½†æ˜¯è®²çš„éƒ½æœ‰ç‚¹å¥‡æ€ªï¼Œæˆ‘å½“æ—¶æ²¡æ‡‚ï¼Œåˆè‡ªå·±å¼€å§‹ç¢ç£¨ã€‚åœ¨æ¢ç´¢è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ä¸€ä¸ªåæ›°â€œæ¬§å‡ é‡Œå¾—ç®—æ³•â€çš„ä¸œè¥¿å¯èƒ½æœ‰æ‰€å¸®åŠ©ï¼Œäºæ˜¯æˆ‘å»çœ‹äº†ä¸€ä¸‹wikiï¼Œå‘ç°å°±æ˜¯è¾—è½¬ç›¸é™¤æ³•å…¶å®ã€‚</p>
<pre tabindex="0"><code>def gcd(a, b):
    while b != 0:
        t = a % b
        a = b
        b = t
    return a
</code></pre><p>æƒ³å¿…è¿™ä¸ªè¿­ä»£ï¼Œå„ä½éƒ½æœ‰å°è±¡ï¼Œå®ƒå¹¿æ³›åœ°å‡ºç°åœ¨ç¼–ç¨‹é¢˜ç›®ä¸­ã€‚å½“ç„¶ä¹Ÿæœ‰ï¼š</p>
<pre tabindex="0"><code>def gcd(a, b):
    return a if b == 0 else gcd(b, a % b)
</code></pre><p>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æ˜¯ç”¨äºè®¡ç®—ä¸¤ä¸ªæ•´æ•°aå’Œbçš„æœ€å¤§å…¬çº¦æ•°ä»¥åŠæ»¡è¶³è´ç¥–ç­‰å¼ax+by=gcd(a,b)çš„æ•´æ•°è§£xå’Œyçš„ä¸€ç§ç®—æ³•ã€‚</p>
<p>è¯„ä»·æ˜¯æœ‰ç‚¹æ±—æµæµƒèƒŒäº†ï¼Œæˆ‘å¼€å±€ç¬¬ä¸€é¢˜åšçš„è¿™ä¸€é¢˜ï¼ˆä¸€è§é’Ÿæƒ…ï¼‰ï¼Œåˆ°æ™šä¸Šéƒ½æ²¡æƒ³å¥½æ˜¯ä»€ä¹ˆä¸ªæ€è·¯ã€‚ç¿»é˜…èµ„æ–™ï¼Œäº†è§£åˆ°å¤§ç´ æ•°å’Œå¤§æ•´æ•°çš„ä½æ•°æ˜¯å°¤ä¸ºé‡è¦çš„ï¼Œå¯ä»¥æœ‰å¥‡æ·«å·§æŠ€æ¥ç ´è§£ã€‚è§‚å¯Ÿåˆ°nå’Œhçš„ä½æ•°ç›¸è¿‘ï¼Œç»§ç»­å­¦ä¹ å¹¶å°è¯•ä½¿ç”¨ä¸‹åˆ—ä»£ç ã€‚</p>
<pre tabindex="0"><code>h = 
e = 
c = 
n = 

print(len(bin(h)[2:]))
print(len(bin(n)[2:]))

#bin(h)å°†å˜é‡ h è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²è¡¨ç¤ºï¼›[2:]åˆ‡ç‰‡æ“ä½œï¼Œä»ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼ˆäºŒè¿›åˆ¶æ•°çš„èµ·å§‹å­—ç¬¦ï¼‰å¼€å§‹æˆªå–åˆ°æœ«å°¾ï¼Œå»æ‰äº†å‰é¢çš„ &#39;0b&#39;ï¼Œè¿™æ˜¯äºŒè¿›åˆ¶æ•°å‰ç¼€ï¼›len()ï¼šè·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå³äºŒè¿›åˆ¶æ•°çš„ä½æ•°ã€‚
</code></pre><p>è¾“å‡º2045å’Œ2048ã€‚</p>
<p>næ˜¯ä¸¤ä¸ªå¤§ç´ æ•°på’Œqçš„ä¹˜ç§¯ã€‚è€Œhæ˜¯p-1å’Œq-1çš„æœ€å°å…¬å€æ•°ã€‚å› æ­¤ï¼Œå®ƒä»¬çš„ä½æ•°å¯ä»¥ç”¨æ¥ä¼°è®¡på’Œqçš„ä½æ•°ã€‚å…·ä½“åœ°è¯´ï¼Œå¦‚æœnæ˜¯ä¸€ä¸ª 2048 ä½çš„æ•°å­—ï¼Œé‚£ä¹ˆpå’Œqé€šå¸¸ä¼šæ˜¯1024ä½çš„ç´ æ•°ã€‚</p>
<p>è¿›è¡Œç©·ï¼ˆtiï¼‰ä¸¾ï¼ˆshenï¼‰æ”»å‡»ï¼Œè¿›è¡Œéå†ï¼Œå·®ä¸‰ä½æ‰€ä»¥é€‰æ‹©ï¼ˆ4ï¼Œ8ï¼‰ã€‚è¿™åº”è¯¥ç®—æ˜¯â€¦ç©·ä¸¾å§ï¼Œè¯•ç€å½“ä½œÏ†çš„å€æ•°å»è§£ï¼Œç„¶åä½¿ç”¨æ‰©å±•æ¬§å‡ é‡Œå¾—è§£å¯†é’¥ã€‚å…¶ä¸­ï¼Œæ¨¡é€†æ˜¯æŒ‡å¯¹äºç»™å®šçš„ä¸¤ä¸ªæ•´æ•°aå’Œnï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•´æ•°bï¼Œä½¿å¾— abâ‰¡1(mod n)ï¼Œé‚£ä¹ˆbå°±æ˜¯aåœ¨æ¨¡næ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒï¼Œé€šå¸¸è®°ä½œaâˆ’1ã€‚å½“ç„¶ï¼Œâ‰¡è¡¨ç¤ºæ¨¡åŒä½™å…³ç³»</p>
<p>å¤ä¹ ä¸€ä¸‹ä¸Šé¢çš„è§£å¯†ï¼Œå…¶ä¸­Mâ‰¡C^d(mod n)ï¼Œdå°±æ˜¯æŒ‡æ•°eçš„æ¨¡Ï†çš„æ¨¡é€†ï¼Œ(e*d)%Ï†(n)=1 ã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼ŒåŠ å¯†æ“ä½œæ˜¯æŒ‡æ•°è¿ç®—ï¼Œè§£å¯†æ“ä½œåˆ™æ˜¯å¯¹å¯†æ–‡è¿›è¡Œæ¨¡å¹‚è¿ç®—ï¼Œå…¶ç»“æœæ˜¯æ˜æ–‡çš„å¹³æ–¹ã€‚å› æ­¤ï¼Œè§£å¯†åçš„ç»“æœ m_2 æ˜¯æ˜æ–‡çš„å¹³æ–¹ã€‚</p>
<p>æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>import gmpy2
from Crypto.Util.number import *
h =
e =
c =
n =

#print(len(bin(h)[2:]))
#print(len(bin(n)[2:]))

for gcd_val in range(4, 8):
    phi = h * gcd_val
    try:
        d = gmpy2.invert(e // 2, phi)
        m_2 = pow(c, int(d), n)
        flag = long_to_bytes(gmpy2.isqrt(m_2))
        print(flag)
    except ZeroDivisionError:
        continue
</code></pre><p>å¯ä»¥å¾—å‡º b&rsquo;FCTF{***********}&rsquo;ï¼ˆçœŸå®å€¼æ˜¯ä¸€ä¸²å­—ç¬¦ï¼‰ï¼Œæäº¤å³å¯ã€‚</p>
<p><del>è¿™ç§é¢˜å‹ç®—æ˜¯æ¯”è¾ƒåŸºç¡€çš„é¢˜ç›®ï¼Œå½“ç„¶è®©æˆ‘å­¦åˆ°å¾ˆå¤šï¼Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ã€‚</del></p>
<h1 id="ä¸€è¯­ç‚¹é†’æ’’æ¯”äºº">ä¸€è¯­ç‚¹é†’æ’’æ¯”äºº</h1>
<p>ï¼ˆ4.21æ›´æ–°ï¼Œç»·ä¸ä½äº†æœ‰ç‚¹ï¼‰</p>
<p>ä½†æ˜¯ï¼Œç»â€œå®¢æœ4.5 9:00-12ï¼š00â€ç‚¹æ‹¨ï¼Œæˆ‘éœç„¶è§‰å¾—è‡ªå·±å°±æ˜¯ä¸ªå‚»å­ã€‚</p>
<p>ä»–æŒ‡å‡ºï¼šeå¹¶ä¸æ˜¯ä¸€ä¸ªç´ æ•°ï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<pre tabindex="0"><code>print(((p-1)*(q-1))/h)
</code></pre><p>å¯ä»¥å¾—å‡ºä¸º2ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºä»»æ„ä¸¤ä¸ªæ•°a,bï¼Œæœ‰LCM(a,b)Ã—GCD(a,b)=aÃ—bã€‚ç”±äºpå’Œqæ˜¯ç´ æ•°ï¼ŒGCD(pâˆ’1,qâˆ’1)GCD(pâˆ’1,qâˆ’1)å¾ˆå¯èƒ½æ˜¯1ã€‚h=LCM(pâˆ’1,qâˆ’1)â‰ˆ(pâˆ’1)Ã—(qâˆ’1)ï¼Œå½“ä½ ç”¨LCMï¼ˆp-1ï¼Œq-1ï¼‰é™¤ä»¥ï¼ˆp-1ï¼‰*ï¼ˆq-1ï¼‰æ—¶ï¼Œä½ æœ¬è´¨ä¸Šæ˜¯åœ¨ç”¨å®ƒè‡ªå·±ï¼Œæˆ–è€…ç”¨ä¸€ä¸ªéå¸¸æ¥è¿‘å®ƒè‡ªå·±çš„æ•°å­—æ¥é™¤ä»¥å®ƒã€‚ç»“æœåº”è¯¥æ¥è¿‘1ã€‚åœ¨ï¼ˆp-1ï¼‰å’Œï¼ˆq-1ï¼‰ä¸­å­˜åœ¨ä¸€ä¸ªå°çš„å…¬å› å­ï¼Œä¼šä½¿å¾—LCMç•¥å°äºhã€‚æ¯”å¦‚è¿™é‡Œè¾“å‡ºä¸º2æ„å‘³ç€ (p-1) å’Œ (q-1) å…±æœ‰ä¸€ä¸ªå› å­ï¼Œå¯¼è‡´å®ƒä»¬çš„æœ€å°å…¬å€æ•°æ°å¥½æ˜¯ä¹˜ç§¯çš„ä¸€åŠã€‚é‚£ä¹ˆï¼Œä¸Šè¿°çš„ä»£ç å°±æ˜¾å¾—éå¸¸çš„å‚»ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åˆ©ç”¨å¦‚ä¸‹ä»£ç å¾—å‡ºç»“è®ºï¼š</p>
<pre tabindex="0"><code>import gmpy2
from Crypto.Util.number import long_to_bytes

h =
e =
c =
n =
gcd_val = 2
phi = h * gcd_val
d = gmpy2.invert(e // 2, phi) 
m_2 = pow(c, int(d), n)
flag = long_to_bytes(gmpy2.isqrt(m_2))
print(flag.decode(&#39;utf-8&#39;))
</code></pre><p>å¤ªéš¾ç»·äº†babyrsaï¼ŒçœŸçš„æ˜¯ä¸€é¢˜å®å®é¢˜å•Šã€‚</p>
<p>äºæ˜¯å›åˆ°åšå®¢çš„å¼€ç¯‡å¥ï¼š</p>
<p>â€œå¾é­‚å…®æ— æ±‚ä¹æ°¸ç”Ÿï¼Œç«­å°½å…®äººäº‹ä¹‹æ‰€èƒ½â€
â€”â€”Pindar</p>
<p><strong>DONE.</strong></p>
<p>å‚è€ƒæ–‡ç« <a href="https://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">(Sir,this way.)</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Research on the principle of automatic punch-in</title>
      <link>https://blog.nanimonai.org/posts/tech/research-on-the-principle-of-automatic-punch-in/</link>
      <pubDate>Thu, 18 Apr 2024 00:00:00 +0000</pubDate>
      
      <guid>https://blog.nanimonai.org/posts/tech/research-on-the-principle-of-automatic-punch-in/</guid>
      <description>åº”ç”¨</description>
      <content:encoded><![CDATA[<h1 id="è¿™æ˜¯ä»€ä¹ˆ">è¿™æ˜¯ä»€ä¹ˆ</h1>
<p>è¿‘æ—¥ï¼Œæ‰“å¡æ›´æ–°æ–¹å¼ï¼Œç”±ä¹‹å‰è½¬ç§»åˆ°äº†æŸä¸€æ–°å¹³å°ä¸Šã€‚æ±‚çŸ¥æ¬²é©±ä½¿è¿›è¡Œç ”ç©¶ã€‚å†™çš„ä¸å‘¨ï¼Œè¿˜è¯·åŒ…å«ï¼ŒåŒæ—¶æˆ‘è¦éå¸¸æ„Ÿè°¢lockeyä¸­çš„ä¸€ä½çƒ­å¿ƒæœ‹å‹ä¸åŒå…¶çƒ¦åœ°ä¸ºæˆ‘æŒ‡ç‚¹è¿·æ´¥ã€‚</p>
<h1 id="å¦‚ä½•å®ç°">å¦‚ä½•å®ç°</h1>
<h2 id="ç¬¬ä¸€æ­¥">ç¬¬ä¸€æ­¥</h2>
<p>é¦–å…ˆæ˜¯è·å–ç­¾åˆ°çš„æ•°æ®ã€‚</p>
<p>å…ˆå»å®˜ç½‘ä¸‹è½½.apkæ–‡ä»¶ï¼Œè€Œä¼—æ‰€å‘¨çŸ¥ï¼Œ.apkæ˜¯ä¸€ç§å‹ç¼©æ–‡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥è§£å‹å‡ºæ¥ï¼ŒæŸ¥æ‰¾ä¸€ä¸‹å‘ç°æ˜¯rsaï¼Œç„¶åæ€è€ƒå¦‚ä½•æ‹¿åˆ°å…¬é’¥ã€‚
<img loading="lazy" src="https://img.nanimonai.org/bunan.png" alt=""  />
</p>
<p>ç»§ç»­findå¯»æ‰¾.pemï¼Œæ‰¾åˆ°ä¸€ä¸ªè¯ä¹¦ï¼ˆæœ¬äººæåˆ°è¿™é‡Œæœ‰ç‚¹ç»·ä¸ä½äº†ï¼ŒçœŸçš„éš¾ç»·ï¼‰</p>
<p><img loading="lazy" src="https://img.nanimonai.org/pem.png" alt=""  />
</p>
<p>å†™å¦‚ä¸‹ä»£ç ä»¥è¿˜åŸå‡ºå…¬é’¥ï¼š</p>
<pre tabindex="0"><code>import OpenSSL.crypto

cert_text = &#34;&#34;&#34;
-----BEGIN CERTIFICATE-----
MIIFizCCA3OgAwIBAgIDAJY4MA0GCSqGSIb3DQEBCwUAMIGAMQswCQYDVQQGEwJD
TjEQMA4GA1UECAwHQmVpamluZzEMMAoGA1UECgwDTVNBMREwDwYDVQQLDAhPQUlE
X1NESzEeMBwGA1UEAwwVY29tLmJ1bi5taWl0bWRpZC5zaWduMR4wHAYJKoZIhvcN
AQkBFg9tc2FAY2FpY3QuYWMuY24wHhcNMjQwMTA3MTQ0ODU1WhcNMjUwMTA3MTQ0
ODU1WjB9MQswCQYDVQQGEwJDTjEQMA4GA1UECAwHQmVpamluZzEQMA4GA1UEBwwH
QmVpamluZzEQMA4GA1UECgwHd2phY2tlcjEWMBQGA1UEAwwNY29tLnlpYmFuLmFw
cDEgMB4GCSqGSIb3DQEJARYRd2FuZ2ppZTJAeWliYW4uY24wggIiMA0GCSqGSIb3
DQEBAQUAA4ICDwAwggIKAoICAQCyGC9T3GW4BSsvnVNqb8+HlnjJAQvTPd7H13m1
f945uUsUYYMaaZuICYjb4qefZUyQgyxBUTYfBOTpE7ccdcNoZgCp05RTng30zvkc
4pjawJIkNeIC2NGlN7RquO4Ka/06LSuq5N+bfL78E0MwZAinoxSswf/yNY5R1LJ2
b3I7BnW7rVSb7KbB0Q4z5KmuJ04hPVl7BtSdfVnvnRVTBDRm/cMgyupEl+CCGW8H
UejzPHdHeHRK1rx7fuwQI+5jgMmDYRNXZD4AmJ0vClurQR5avN2xOuxB8HbtB+lQ
itsNnQCvYY1Xp4s7FtfmT6JzDNQ//vRgXxYrOaVFfoY/ugrO+SfZtqej+mdKR3Kg
OaAA75t8zcJfM6WGrbPJl3xHc2bhD4kGwRkTAcHJ7WQOIrWz85CPCfIoYh8nZlBl
sCNamJJh6Pl2nAtmnfMtDuYZJo/2QK6J/KFtywsYIekU6fiRsJaaunBf5sD9Ixbv
JcRRB+HRCsySKYEg8z7Xlh90fHimfUgT0Gt44/o+nzPh7Cq9Ay6dWtMxYFx78Z1e
papOJdUNpZWIET8wQHriJmbJ18TlidGRAW85kW2ka2cr4u6Ed68JQa+nN+kbS0dD
euvOBGOsiqqCy5aeA0oz88HRWWIga02PLTZbEs4PdYrNzHWCISjnk34KpwwxYJUn
6Zpy1wIDAQABoxAwDjAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBCwUAA4ICAQAk
o30meLI9Un/7KoUekSMhterJ6K11cHKAa+WQqqzp8If+gIhjsyYk7Wf1fgStvoNu
jILWSAfe2C2k74QrlVsUFXue2Ekc+eyDbUhwOi4rVju68/eu4HSpdIUbFQ7ZpivC
adjw7qfN90sp6S+O/dDQ9SzUPBpjMQQ6ZvSTFv7TtZ1cjzOpcfogrDGyOe+mE5Rv
xT3IaWFBcY2fe8lh+/7mJ27A5XgCka1LTZ2OFwI4d1gPWRhwi7R0p4rGhtmk2JJG
viz1rPn8pBBeR5zcwHFuDAbL/1C9d6rZ5lajycrdPZzbcuFAzx7NPafiMsyMYwBK
9oQDIjS5UmfMt+lMFk37yCesFqxq/DOIPm1Hz3N1t5RpcZuwIkCzXYhtOkCbu9SZ
xKqxztpcA5ySf3DWH4TIxKGXxIlC5pr2F4HsmKDIAO/1O6HXI0Bo+s/3KsDS/IMV
nlqKu1WUKUZJebjN/CL61ChfHjkmogslgTkQpJnGsWsix3v0nBFjpbOm/oXYYMJy
p+aMzppKaLx3mniXW/kimteNKu8EdeE7x/QeEIk5IUotfRPAeydVk9yqf+c4ClS9
YwVFAqIDzbC3nLBBXb36WNOoG+MFwWkjKoPhtIoLysTN1gNuFYUlJ1JptoP0Pe0I
k5FWnRRk1vKUktYUfMJE4PQg4sWxZhGkKrGU5zVLsg==
-----END CERTIFICATE-----
&#34;&#34;&#34;

cert=OpenSSL.crypto.load_certificate(OpenSSL.crypto.FILETYPE_PEM, cert_text)

public_key=OpenSSL.crypto.dump_publickey(OpenSSL.crypto.FILETYPE_PEM, cert.get_pubkey()).decode(&#34;utf-8&#34;)

print(public_key)
</code></pre><p>å¾—å‡ºå…¬é’¥å°±å¤Ÿç”¨äº†ï¼š</p>
<p><img loading="lazy" src="https://img.nanimonai.org/rsa.png" alt=""  />
</p>
<h2 id="ç¬¬äºŒæ­¥">ç¬¬äºŒæ­¥</h2>
<p>è·å–cookieï¼Œå‚è€ƒgithubå¯å¾—ï¼š</p>
<pre tabindex="0"><code>
def auth(self):
    COOKIES = {}
    CSRF = &#34;00000000000000000000000000000000&#34;
    HEADERS = {
        &#34;Origin&#34;: &#34;m.yiban.cn&#34;,
        &#34;origin&#34;:&#34;api.uyiban.com&#34;,
        &#34;origin&#34;:&#34;https://c.uyiban.com&#34;,
        &#34;authority&#34;: &#34;api.uyiban.com&#34;,
        &#34;AppVersion&#34;: &#34;5.0.17&#34;,
        &#34;x-requested-with&#34;: &#34;com.yiban.app&#34;,
        &#34;user-agent&#34;:&#34;Mozilla/5.0 (Linux; Android 12; XIAOMI Build/SKQ1.211006.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/112.0.5615.48 Mobile Safari/537.36;webank/h5face;webank/1.0 yiban_android/5.0.17&#34;
        }
    iapp = requests.get(&#34;http://f.yiban.cn/iapp/index?act=iapp7463&#34;, headers=HEADERS, allow_redirects=False, cookies=COOKIES) # åˆ©ç”¨ loginToken è®¿é—®è·å– verifyRequestè·³è½¬æ•°æ®
    # æ­¤å¤„cookieå¸¦æœ‰ &#34;loginToken&#34; = â€œcdd6d4432743414c9e1faf3e792*****â€
    act = iapp.headers[&#34;Location&#34;] # è¿”å›302è·³è½¬ç›®æ ‡
    verifyRequest = re.findall(r&#34;verify_request=(.*?)&amp;&#34;, act)[0] # æ­£åˆ™å–302è·³è½¬ç›®æ ‡ï¼Œå¾—åˆ° verify_request æ•°æ®
    json = requests.get(&#34;https://api.uyiban.com/base/c/auth/yiban?verifyRequest=&#34; + verifyRequest + &#34;&amp;CSRF=&#34; + CSRF, headers=HEADERS, allow_redirects=False, cookies={&#39;csrf_token&#39;: CSRF})
    cookies = requests.utils.dict_from_cookiejar(json.cookies) # è·å–cookie
    Attendancecookies = cookies # ç­¾åˆ°cookiesèµ‹å€¼self.Attendancecookies
    print(&#39;Location:&#39;,act,&#34;\n&#34;)
    print(&#39;cookies:&#39;,Attendancecookies,&#34;\n&#34;)
    
    ###æ‰“å°æ•°æ®ï¼š
    Location: https://c.uyiban.com/#/?verify_request=c9e814****53de92ccc&#39;, &#39;cpi&#39;: &#39;eyJD******%3D%3D&#39;, &#39;is_certified&#39;: &#39;1&#39;}    
    cookies: {&#39;PHPSESSID&#39;: &#39;fa1a28bc38cc**c4b1e87a8ce51f****&#39;, &#39;cpi&#39;: &#39;eyJDaG**%3D%3D&#39;, &#39;is_certified&#39;: &#39;1&#39;}
</code></pre><p>All right. ç°åœ¨åªéœ€è¦PHPSESSID.</p>
<h2 id="ç¬¬ä¸‰æ­¥">ç¬¬ä¸‰æ­¥</h2>
<p>è¿›è¡ŒADBè°ƒè¯•ï¼Œå…¶ä¸­æŒºå¤æ‚çš„ã€‚æˆ‘æœªæ¥ä¹Ÿè¦å°è¯•ä¸€ä¸‹æœ‰æ²¡æœ‰æ›´åŠ ç®€å•çš„è°ƒè¯•æ–¹æ³•ã€‚é¦–å…ˆä½ PCå¾—æœ‰Chromeï¼ŒFirefoxå°±ä¸è¡Œã€‚æˆ‘Linuxä¸Šé¢ç”¨çš„æ˜¯Chromiumã€‚ç¬¬ä¸€æ¬¡å°è¯•çš„æ—¶å€™ç§»åŠ¨ç«¯ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„Kiwi Browserï¼Œå¯¼è‡´ chrome://inspect/#devices è¿™ä¸ªç•Œé¢æ²¡æœ‰inspect fallbacké€‰é¡¹ã€‚æ›´æ–°å°±è¡Œäº†ã€‚</p>
<p><img loading="lazy" src="https://img.nanimonai.org/404.png" alt=""  />
</p>
<p>åœ¨kiwiä¸Šæ‰¾åˆ°Network Conditionsï¼ŒæŠŠç”¨æˆ·ä»£ç†å‰æ‰å¹¶è‡ªå®šä¹‰å†™ä¸ŠMicroMessengerã€‚</p>
<p><img loading="lazy" src="https://img.nanimonai.org/network.png" alt=""  />
</p>
<p>è¿™ä¸ªå…¶å®å¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°è¾“å…¥å‘½ä»¤è·å–ï¼ˆå¿˜è®°æˆªå›¾äº†ï¼Œå¯ä»¥è‡ªå·±å»è¯•ä¸€ä¸‹ï¼‰ï¼š</p>
<pre tabindex="0"><code>console.log(&#34;User-Agent:&#34;, navigator.userAgent);
</code></pre><p>ç›´æ¥ä»ä¸­é—´å‡ ä¸ªå¼€å§‹åˆ†æï¼ˆå…¶å®æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼‰ï¼Œèƒ½å¤ŸæˆåŠŸæ‰¾åˆ°https://api.uyiban.com/nightAttendance/student/index/signIn?CSRF=&hellip;</p>
<p>ä»¥åŠhttps://api.uyiban.com/nightAttendance/student/index/signPosition?CSRF=&hellip;</p>
<p>è¿™æ ·å°±å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼ŒAPI æ˜¯ RESTful æ ‡å‡†ã€‚ä»ç™»å½•å¼€å§‹è¿½è¸ªï¼Œä½¿ç”¨curlå»è°ƒè¯•ã€‚</p>
<p><img loading="lazy" src="https://img.nanimonai.org/gongzuotai.png" alt=""  />

<img loading="lazy" src="https://img.nanimonai.org/yes.png" alt=""  />
</p>
<p>é”™è¯¯çš„éƒ½æ˜¯{&lsquo;code&rsquo;: 500, &lsquo;msg&rsquo;: &lsquo;éæ³•ç­¾åˆ°&rsquo;, &lsquo;data&rsquo;: None}	0.0</p>
<p>ç­¾åˆ°æˆåŠŸä¼šè¿”å›{&lsquo;code&rsquo;: 0, &lsquo;msg&rsquo;: &lsquo;&rsquo;, &lsquo;data&rsquo;: True}</p>
<h2 id="ç¬¬å››æ­¥-å‰äººçš„æ™ºæ…§">ç¬¬å››æ­¥ å‰äººçš„æ™ºæ…§ï¼</h2>
<p>è„šæœ¬æ˜¯å¤§çˆ±æ— ç§å®½ä»çš„Mikeä¿®æ”¹çš„ï¼Œæœ€åˆç‰ˆæ˜¯æ¥è‡ª<a href="https://wcyuns.cn/archives/%E6%98%93%E7%8F%AD%E6%99%9A%E7%AD%BE%E8%84%9A%E6%9C%AC">this</a>æ€è·¯ä¹Ÿæ˜¯å€Ÿé‰´äºæ­¤ï¼Œä¸Šé¢ä¹Ÿç®—æ˜¯é‡èµ°ä¸€éã€‚çœŸæ‰€è°“å·§å¤ºå¤©å·¥ï¼Œä»¤äººæ•¬ä½©ï¼</p>
<pre tabindex="0"><code>import json
import re
import sys
import os
import pickle
import time
import urllib
import jsonpath
from urllib import parse
import random
import requests
import numpy
import base64
import msvcrt
try:
    from Crypto.Cipher import PKCS1_v1_5
    from Crypto.PublicKey import RSA
except ModuleNotFoundError:
    print(&#34;ç¼ºå°‘pycryptodomeä¾èµ–ï¼ç¨‹åºå°†å°è¯•å®‰è£…ä¾èµ–ï¼&#34;)
    os.system(&#34;pip3 install pycryptodome -i https://pypi.tuna.tsinghua.edu.cn/simple&#34;)
    os.execl(sys.executable, &#39;python3&#39;, __file__, *sys.argv)

def encryptPassword(pwd): # ç™»å½•å¯†ç åŠ å¯†
    # å¯†ç åŠ å¯†
    PUBLIC_KEY = &#39;&#39;&#39;-----BEGIN PUBLIC KEY-----
MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAzq0rgsM++ZxLRGHpdfre
Hu6UXhdlUS5P2WOxRG14qU8/iWSb/CkOqgOl8AGcOhlthkvolCdpUvVcVsVUxBv0
YRN0Jb64zPrn5aLVwQT4RJn5tXvoqLdHIXis7pljXAMDPVZOVlWJkDMk8YU6HDaA
MqsD6l5p9lg2LMP4OhMgaPX+CkO370LB5vRjJTHp03n+IqfxXoC7DEd+kxRIEM2C
EDgUSYDJBDgwBvGALZmvB/a1b0im9t1P/EmnuE7uN9NRFoWyVpOiEwo/Ti7rmJGf
qNT3vvtfWo4nXsm1rYQXsPayoKDSRaba3gFY/1SYWLAuSO2q2da5ZCcsAk5RKy0V
c1hUg8n6y0YLAvuzoXY5VyNMXkhH5Zc5Kg64b5RxILeZpZG0MV7GFY3sw//k7SNg
darKT8A0Iv3l3lfguX3HNi6dkf97kS/EiA0tbkIB/JNjv13mq8HL7LijRt2hkKqP
PhQW88xC/exZilU5pAavoZOPuZIOTUHqtpRq4ZeKl+wDf+e5lPYFDpihWGjplGpa
4BOSmGeo/SyVFPji9QF4Pk0DRJF/NjwJoAC60xHAVt5Z4gQSOOOjNZDCswA0ry2L
e8m5cv5vPGY75uVrGqALQ6Xm961PPc5cJ1q7tmEZMj+z5HE7tgAdhiPI6acKgrAv
+1k4N0OVqKamMS+PVpD05hUCAwEAAQ==
-----END PUBLIC KEY-----&#39;&#39;&#39;
    cipher = PKCS1_v1_5.new(RSA.importKey(PUBLIC_KEY))
    cipher_text = base64.b64encode(cipher.encrypt(bytes(pwd, encoding=&#34;utf8&#34;)))
    return cipher_text.decode(&#34;utf-8&#34;)
####################################################################################################################################################################################################
####################################################################################################################################################################################################

class yiban:
    COOKIES = {}
    def __init__(self, mobile, password): # å…¨å±€å˜é‡
        self.mobile = mobile # ç™»å½•æ‰‹æœºå·
        self.password = password # ç™»å½•å¯†ç 
        self.session = requests.session()
        self.HEADERS = {
            &#34;Origin&#34;: &#34;m.yiban.cn&#34;,
            &#34;origin&#34;:&#34;api.uyiban.com&#34;,
            &#34;origin&#34;:&#34;https://c.uyiban.com&#34;,
            &#34;authority&#34;: &#34;api.uyiban.com&#34;,
            &#34;AppVersion&#34;: &#34;5.1.2&#34;,
            &#34;x-requested-with&#34;: &#34;com.yiban.app&#34;,
            &#34;user-agent&#34;:&#34;Mozilla/5.0 (Linux; Android 12; Redmi K30 Pro Build/SKQ1.211006.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/112.0.5615.48 Mobile Safari/537.36;webank/h5face;webank/1.0 yiban_android/5.0.17&#34;
            }
        self.Attendancecookies = {}
        self.CSRF = &#34;00000000000000000000000000000000&#34;

    def login(self): # ç™»å½•
        params = {
            &#34;mobile&#34;: self.mobile, #ç™»å½•æ‰‹æœºå·
            &#34;password&#34;: encryptPassword(self.password), #RSAåŠ å¯†åçš„ç™»å½•å¯†ç 
            &#34;ct&#34;: &#34;2&#34;, #å›ºå®šå‚æ•°
            &#34;identify&#34;: &#34;0&#34;, #å›ºå®šå‚æ•°
        }
        # é…ç½®ç™»å½•æ•°æ®
        response = requests.post(&#34;https://m.yiban.cn/api/v4/passport/login&#34;, data=params, allow_redirects=False, cookies=self.COOKIES, headers=self.HEADERS).json()
        if response is not None and response[&#34;response&#34;] == 100:
            self.access_token = response[&#34;data&#34;][&#34;access_token&#34;]
            self.HEADERS[&#34;Authorization&#34;] = &#34;Bearer &#34; + self.access_token
            # å¢åŠ cookie
            self.COOKIES[&#34;loginToken&#34;] = self.access_token
            print(&#39;ç”¨æˆ·ä¿¡æ¯:&#39;,response,&#34;\n&#34;)
            print(&#39;loginToken:&#39;,self.access_token,&#34;\n&#34;)
            print(&#39;ç”¨æˆ·å§“å:&#39;,response[&#34;data&#34;][&#34;user&#34;][&#34;name&#34;],&#34;\næ‰‹æœºå·ç ï¼š&#34;,response[&#34;data&#34;][&#34;user&#34;][&#34;phone&#34;])
            return 1
        else:
            print(response)
            return self.mobile
        #è¿”å›https://f.yiban.cn/iapp/index?act=iapp7463æ‰€éœ€çš„Cookieâ€œloginToken=ce196e5fb2900bc35b44e1f1b4ed****â€


        #é€šè¿‡è·å–çš„loginTokenè®¿é—®iappåå°å¾—åˆ°å€¼verifyRequest
        #åˆ©ç”¨verifyRequestè®¿é—®apiè·å–ç­¾åˆ°ç”¨çš„cookie
        #è¿”å›cookieå†…å®¹èŒƒä¾‹
        #{&#39;PHPSESSID&#39;: &#39;1aef34b976315dca8400711255f1a9af&#39;, &#39;cpi&#39;: &#39;eyJDaGFubmVsIjoieWliYW......TliNWViZTUxYWMifQ%3D%3D&#39;, &#39;is_certified&#39;: &#39;1&#39;}
        #PHPSESSIDä¸ºå…³é”®å€¼ï¼Œæœ‰è¿™ä¸€ä¸ªå‚æ•°å°±å¯ä»¥è®¿é—®ç­¾åˆ°ç­‰ç›¸å…³å†…å®¹
        #cpi ä½¿ç”¨base64ç¼–ç  æœ‰ä¸ªäººç›¸å…³ä¿¡æ¯
    def auth(self): # è·å–ç­¾åˆ°cookie
        iapp = requests.get(&#34;http://f.yiban.cn/iapp/index?act=iapp7463&#34;, headers=self.HEADERS, allow_redirects=False, cookies=self.COOKIES) # åˆ©ç”¨ loginToken è®¿é—®è·å– verifyRequest
        act = iapp.headers[&#34;Location&#34;] # è¿”å›302è·³è½¬ç›®æ ‡
        verifyRequest = re.findall(r&#34;verify_request=(.*?)&amp;&#34;, act)[0] # æ­£åˆ™å–302è·³è½¬ç›®æ ‡ï¼Œå¾—åˆ° verify_request æ•°æ®
        json = requests.get(&#34;https://api.uyiban.com/base/c/auth/yiban?verifyRequest=&#34; + verifyRequest + &#34;&amp;CSRF=&#34; + self.CSRF, headers=self.HEADERS, allow_redirects=False, cookies={&#39;csrf_token&#39;: self.CSRF})
        #è®¿é—®apiè·å–cookie CSRFå€¼æŒ‰æ­¤å¯ç”¨ï¼ŒåªéªŒè¯ä½æ•°
        cookies = requests.utils.dict_from_cookiejar(json.cookies) # è·å–cookie
        self.Attendancecookies = cookies # ç­¾åˆ°cookiesèµ‹å€¼self.Attendancecookies
        print(&#39;Location:&#39;,act,&#34;\n&#34;)
        print(&#39;cookies:&#39;,self.Attendancecookies,&#34;\n&#34;)
        return

    def authorization(self, testauth): # æˆæƒæ ¡æœ¬åŒ–
        self.testauth = testauth
        authhtml = requests.get(&#34;https://oauth.yiban.cn/code/html?client_id=95626fa3080300ea&amp;redirect_uri=https://f.yiban.cn/iapp7463&#34;) # åˆ©ç”¨ loginToken è®¿é—®è·å– verifyRequest
        HTML_PUBLIC_KEY = re.search(&#39;&lt;input type=&#34;test&#34; id=&#34;key&#34; value=&#34;((?:.|\n)+)?&#34; style=&#34;display:none&#34;&gt;&#39;,authhtml.text)[1] # è·å–ç½‘é¡µç­¾åˆ°åŠ å¯† password è¯ä¹¦
        webcookies = requests.utils.dict_from_cookiejar(authhtml.cookies) # è·å–æ ¡æœ¬åŒ–æˆæƒ cookie    ç™»å½•éœ€è¦
        print()
        print(&#34;è·å–çš„ç½‘é¡µcookie:&#34;,webcookies)
        print(&#34;è·å–çš„ç½‘é¡µåŠ å¯†è¯ä¹¦:&#34;,HTML_PUBLIC_KEY,&#34;\n&#34;)
        HTML_cipher = PKCS1_v1_5.new(RSA.importKey(HTML_PUBLIC_KEY))
        HTML_cipher_text = base64.b64encode(HTML_cipher.encrypt(bytes(self.password, encoding=&#34;utf8&#34;)))
        HTML_cipher_decode = HTML_cipher_text.decode(&#34;utf-8&#34;)
        print(&#34;å¯†ç ç½‘é¡µåŠ å¯†ç»“æœ:&#34;,HTML_cipher_decode)
        webparams = {
            &#34;oauth_uname&#34;: self.mobile , # è´¦å·
            &#34;oauth_upwd&#34;: HTML_cipher_decode , # åŠ å¯†åå¯†ç 
            &#34;client_id&#34;: &#34;95626fa3080300ea&#34;, # åº”ç”¨ç«¯ç¼–å·
            &#34;redirect_uri&#34;: &#34;http://f.yiban.cn/iapp7463&#34;, # åº”ç”¨ç«¯å›è°ƒåœ°å€
            }
        webauth = requests.post(&#34;https://oauth.yiban.cn/code/usersure&#34;, data=webparams, cookies=webcookies, headers=self.HEADERS).json()
        print(&#34;æˆæƒç»“æœ&#34;,webauth,&#34;\n&#34;)
        print(&#34;æˆæƒæˆåŠŸï¼Œè¿”å›è·å–ç­¾åˆ°ä¿¡æ¯ä¸­...&#34;)
        return

    def signPosition(self):
        Position = requests.get(&#34;https://api.uyiban.com/nightAttendance/student/index/signPosition?CSRF=&#34; + self.CSRF, allow_redirects=False, cookies={&#39;PHPSESSID&#39;: self.Attendancecookies[&#39;PHPSESSID&#39;], &#39;csrf_token&#39;: self.CSRF}, headers=self.HEADERS).json()
        if Position[&#34;code&#34;] == 0: # åˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸ
            print(&#34;æ ¡æœ¬åŒ–å·²æˆæƒï¼Œæœ‰æ™šç­¾ä»»åŠ¡\n&#34;)
            print(&#34;å¯ç­¾åˆ°æ•°æ®:&#34;,Position,&#34;\n&#34;)
            State=Position[&#34;data&#34;][&#34;State&#34;] # è·å–çŠ¶æ€ç 
            Msg=Position[&#34;data&#34;][&#34;Msg&#34;] # è·å–è¿”å›ä¿¡æ¯
            StartTime=Position[&#34;data&#34;][&#34;Range&#34;][&#34;StartTime&#34;] # è·å–ç­¾åˆ°å¼€å§‹æ—¶é—´
            self.StartTime =  StartTime
            EndTime=Position[&#34;data&#34;][&#34;Range&#34;][&#34;EndTime&#34;] # è·å–ç­¾åˆ°ç»“æŸæ—¶é—´
            pause = StartTime - int(time.time()) # è·å–ç³»ç»Ÿç°åœ¨æ—¶é—´
            if State == 2: # æ²¡æœ‰ç­¾åˆ°ä»»åŠ¡ å¦‚å­¦æ ¡æ²¡æœ‰æ™šç­¾
                print(&#34;æ‚¨&#34;,Position[&#34;data&#34;][&#34;Msg&#34;])
                return
            else:
                if State == 3: # å·²ç­¾åˆ°
                    print(&#34;[*] ç­¾åˆ°æ¥å£è¿”å›æ•°æ®ï¼š&#34;,Position[&#34;data&#34;][&#34;Msg&#34;])
                    return
                else:
                    self.Address=jsonpath.jsonpath(Position,&#39;$...Address&#39;)[0] # è·å–å¯ç­¾åˆ°ä½ç½® åœ°å€
                    self.LngLat=jsonpath.jsonpath(Position,&#39;$...LngLat&#39;)[0] # è·å–å¯ç­¾åˆ°ä½ç½® ç»çº¬åº¦
                    self.lonss = &#39;%.6f&#39; %float(round(float(self.LngLat.split(&#34;,&#34;)[0]),3) + float(random.uniform(0.000100,0.000999))) # æ ¹æ®åœ°å€éšæœºä¿®æ”¹ç»åº¦å3ä½ï¼Œè¾¾åˆ°æ¯æ¬¡å®šä½ä½ç½®ä¸ä¸€æ ·
                    self.latss = &#39;%.6f&#39; %float(round(float(self.LngLat.split(&#34;,&#34;)[1]),3) + float(random.uniform(0.000100,0.000999))) # æ ¹æ®åœ°å€éšæœºä¿®æ”¹çº¬åº¦å3ä½ï¼Œè¾¾åˆ°æ¯æ¬¡å®šä½ä½ç½®ä¸ä¸€æ ·
                    if State == 0: # å·²ç»åˆ°è¾¾ç­¾åˆ°æ—¶é—´
                        print(&#34;å¯ä»¥ç­¾åˆ°ï¼Œç«‹å³æ‰§è¡Œï¼\n&#34;)
                        self.nightAttendance() # ç­¾åˆ°è·³è½¬
                    else:
                        if State == 1: # è¿˜æœªå¼€å§‹ç­¾åˆ°
                            pause = StartTime - int(time.time()) # è·å–å‰©ä½™æ—¶é—´
                            while pause &gt;= 60 :
                                list = [&#34;\\&#34;, &#34;|&#34;, &#34;/&#34;, &#34;â€”&#34;]
                                index = pause % 4
                                print(&#34;[*] è·ç­¾åˆ°æ—¶é—´è¿˜æœ‰ {} ç§’ {}&#34;.format(pause,list[index]), end=&#34;\r&#34;, flush=True)
                                pause = StartTime - int(time.time())
                                time.sleep(1)
                            else:
                                while pause &lt;= 60 and pause &gt;=10 :
                                    print(&#34;[*] è·ç­¾åˆ°æ—¶é—´è¿˜æœ‰ {} ç§’ {}&#34;.format(pause,list[index]), end=&#34;\r&#34;, flush=True)
                                    pause = StartTime - int(time.time())
                                    time.sleep(0.5)
                                else:
                                    while pause &lt;= 10 :
                                        print(&#34;[*] è·ç­¾åˆ°æ—¶é—´è¿˜æœ‰ {} ç§’ {}&#34;).format(pause,list[index], end=&#34;\r&#34;, flush=True)
                                        pause = StartTime - int(time.time())
                                        while pause &lt;= 0.25 :
                                            print(&#34;åˆ°è¾¾ç­¾åˆ°æ—¶é—´ï¼&#34;)
                                            self.nightAttendance() # ç­¾åˆ°è·³è½¬
                                            return
                                        time.sleep(0.25)
            if Position[&#34;code&#34;] == 999:
                print(&#34;[*] æ™šç­¾ä¿¡æ¯è·å–å¤±è´¥\n[*] æœ‰å¯èƒ½æ˜¯æ ¡æœ¬åŒ–æœªæˆæƒæˆ–æ‚¨çš„ç­¾åˆ°é¡µé¢éæœ¬è„šæœ¬æ‰€é€‚é…&#34;)
                self.authorization()
        return

    def nightAttendance(self): # æ‰§è¡Œç­¾åˆ°
        paramss = {
            &#34;Code&#34;: &#34;&#34;,
            &#34;PhoneModel&#34;: &#34;&#34;,
            &#34;SignInfo&#34;: &#39;{&#34;Reason&#34;:&#34;&#34;,&#34;AttachmentFileName&#34;:&#34;&#34;,&#34;LngLat&#34;:&#34;&#39; + self.lonss + &#39;,&#39; + self.latss + &#39;&#34;,&#34;Address&#34;:&#34;&#39; + self.Address + &#39;&#34;}&#39;,
            &#34;OutState&#34;: &#34;1&#34;
            }
        nightsign = requests.post(&#34;https://api.uyiban.com/nightAttendance/student/index/signIn?CSRF=&#34; + self.Attendancecookies[&#39;PHPSESSID&#39;], data=paramss, cookies={&#39;csrf_token&#39;: self.Attendancecookies[&#39;PHPSESSID&#39;], &#39;PHPSESSID&#39;: self.Attendancecookies[&#39;PHPSESSID&#39;]}, headers=self.HEADERS).json()
        print(&#34;ç­¾åˆ°è¿”å›æ•°æ®:&#34;,nightsign)
        #print(nightsign)
        return self.signPosition() # è·³è½¬å›signPositionéªŒè¯æ˜¯å¦ç­¾åˆ°æˆåŠŸ

    def loginin(self): # ç™»é™†æ ¡éªŒ
        # åº”å½“å…ˆåˆ¤æ–­åˆ—è¡¨è´¦å·æ˜¯å¦éƒ½èƒ½æ­£å¸¸ç™»é™†
        loginin = self.login() # ç™»å½•
        if loginin != 1:
            print(&#34;ç”¨æˆ·&#34;,loginin,&#34;ç™»é™†å¤±è´¥ï¼Œè¯·å¤„ç†&#34;)
            print(&#34;æŒ‰ä»»æ„é”®é€€å‡ºè„šæœ¬&#34;)
            ord(msvcrt.getch())
            sys.exit()
        self.authorization(0) # æ ¡æœ¬åŒ–æˆæƒå…ˆæ‰§è¡Œ
        return

    def setall(self): # å¤šäººç­¾åˆ°
        loginin = self.login() # ç™»å½•
        self.auth() # æˆæƒ
        self.signPosition() # åˆ¤æ–­èƒ½å¦ç­¾åˆ°&amp;è‡ªåŠ¨è·³è½¬ç­¾åˆ°
        #self.authorization(0) # æ ¡æœ¬åŒ–æˆæƒ å·²å†™å…¥
        return
def save_accounts(accounts):
    with open(&#34;accounts.txt&#34;, &#34;w&#34;) as f:
        for account in accounts:
            f.write(f&#34;{account.mobile},{account.password}\n&#34;)
def load_accounts():
    accounts = []
    if os.path.exists(&#34;accounts.txt&#34;):
        with open(&#34;accounts.txt&#34;, &#34;r&#34;) as f:
            for line in f:
                mobile, password = line.strip().split(&#39;,&#39;)
                accounts.append(yiban(mobile, password))
    return accounts
def display_accounts(accounts):
    print(&#34;å½“å‰è´¦æˆ·åˆ—è¡¨:&#34;)
    for idx, account in enumerate(accounts, start=1):
        print(f&#34;{idx}. {account.mobile}&#34;)


def main():
    accounts, disturb_mode, disturb_count = load_accounts()
    if disturb_mode == &#39;on&#39; and disturb_count &gt; 0:
        print(&#34;å…æ‰“æ‰°æ¨¡å¼å¼€å¯ï¼Œè‡ªåŠ¨æ‰§è¡Œ...&#34;)
        disturb_count -= 1
    else:
        action = &#39;ç»§ç»­&#39;
        while action.lower() == &#39;ç»§ç»­&#39;:
            display_accounts(accounts)
            choice = input(&#34;è¦ä¿®æ”¹æˆ–å¢åŠ è´¦å·å—ï¼Ÿ(ä¿®æ”¹/å¢åŠ /æ‰§è¡Œ): &#34;)

            if choice.lower() == &#39;ä¿®æ”¹&#39;:
                index = int(input(&#34;è¯·è¾“å…¥è¦ä¿®æ”¹çš„è´¦å·åºå·: &#34;)) - 1
                if 0 &lt;= index &lt; len(accounts):
                    new_mobile = input(&#34;è¾“å…¥æ–°çš„æ‰‹æœºå·: &#34;)
                    new_password = input(&#34;è¾“å…¥æ–°çš„å¯†ç : &#34;)
                    accounts[index] = yiban(new_mobile, new_password)
                    save_accounts(accounts, disturb_mode, disturb_count)
                    print(&#34;è´¦æˆ·å·²æ›´æ–°&#34;)
            elif choice.lower() == &#39;å¢åŠ &#39;:
                num_new_accounts = int(input(&#34;è¯·è¾“å…¥è¦å¢åŠ çš„è´¦æˆ·æ•°: &#34;))
                for _ in range(num_new_accounts):
                    mobile = input(&#34;è¯·è¾“å…¥æ–°æ‰‹æœºå·: &#34;)
                    password = input(&#34;è¯·è¾“å…¥æ–°å¯†ç : &#34;)
                    accounts.append(yiban(mobile, password))
                save_accounts(accounts, disturb_mode, disturb_count)
                print(&#34;æ–°è´¦æˆ·å·²æ·»åŠ &#34;)
            elif choice.lower() == &#39;æ‰§è¡Œ&#39;:
                break

            action = input(&#34;æ˜¯å¦ç»§ç»­ä¿®æ”¹æˆ–å¢åŠ è´¦æˆ·ï¼Ÿ(ç»§ç»­/æ‰§è¡Œ): &#34;)

        if disturb_count == 0:  # å½“ä¸åœ¨å…æ‰“æ‰°æ¨¡å¼æˆ–å…æ‰“æ‰°æ¬¡æ•°ç”¨å®Œæ—¶è¯¢é—®
            disturb_mode = &#39;on&#39; if input(&#34;æ˜¯å¦å¼€å¯å…æ‰“æ‰°æ¨¡å¼ï¼Ÿ(æ˜¯/å¦): &#34;).lower() == &#39;æ˜¯&#39; else &#39;off&#39;
            disturb_count = 7 if disturb_mode == &#39;on&#39; else 0

    save_accounts(accounts, disturb_mode, disturb_count)

    for account in accounts:
        account.loginin()
    time.sleep(0.5)
    print(&#34;#ç­¾åˆ°æ£€æŸ¥é€šè¿‡#################\n&#34;)
    for account in accounts:
        account.setall()
    time.sleep(0.1)
    print(&#34;##############################&#34;)
    print(&#34;ç­¾åˆ°ä»»åŠ¡å·²æ‰§è¡Œå®Œæˆï¼&#34;)
    sys.exit()


if __name__ == &#34;__main__&#34;:
    main()
</code></pre><h1 id="ä¸€ç‚¹ç‚¹å°æ”¹åŠ¨">ä¸€ç‚¹ç‚¹å°æ”¹åŠ¨</h1>
<p>è¿™ä¸ªè„šæœ¬æœ‰å‡ å¤„åœ¨Arch Linuxä¸Šå¹¶ä¸é€‚ç”¨ã€‚</p>
<p>pipä¼šå¾€ç³»ç»Ÿé‡Œé¢å¸¦è„ä¸œè¥¿ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½ç›´æ¥æ‰§è¡Œpip installã€‚ä¼šæœ‰å¦‚ä¸‹æŠ¥é”™ï¼š</p>
<pre tabindex="0"><code>pip install numpy
error: externally-managed-environment

Ã— This environment is externally managed
â•°â”€&gt; To install Python packages system-wide, try &#39;pacman -S
    python-xyz&#39;, where xyz is the package you are trying to
    install.
    
    If you wish to install a non-Arch-packaged Python package,
    create a virtual environment using &#39;python -m venv path/to/venv&#39;.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip.
    
    If you wish to install a non-Arch packaged Python application,
    it may be easiest to use &#39;pipx install xyz&#39;, which will manage a
    virtual environment for you. Make sure you have python-pipx
    installed via pacman.

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
</code></pre><p>æœ€æ°å½“çš„æ–¹æ³•åº”è¯¥æ˜¯ç»™ä»–æ¥ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚ä¸”msvcrtæ˜¯ä¸€ä¸ªWindowsç‰¹å®šçš„æ¨¡å—ï¼Œåœ¨Linuxä¸Šä¸å¯ç”¨ï¼Œå¯ä»¥ä»£ç é‡Œé¢ç›´æ¥ç»™å®ƒæ‰¬äº†ï¼š</p>
<pre tabindex="0"><code>...# ä¸Šè¿°ä»£ç ç…§æŠ„

def loginin(self): # ç™»é™†æ ¡éªŒ
    # åº”å½“å…ˆåˆ¤æ–­åˆ—è¡¨è´¦å·æ˜¯å¦éƒ½èƒ½æ­£å¸¸ç™»é™†
    loginin = self.login() # ç™»å½•
    if loginin != 1:
        print(&#34;ç”¨æˆ·&#34;,loginin,&#34;ç™»é™†å¤±è´¥ï¼Œè¯·å¤„ç†&#34;)
        print(&#34;æŒ‰ä»»æ„é”®é€€å‡ºè„šæœ¬&#34;)# ç§»é™¤äº†msvcrt.getch()ï¼Œå› ä¸ºåœ¨Linuxä¸Šä¸å¯ç”¨
        input(&#34;æŒ‰å›è½¦é”®é€€å‡ºè„šæœ¬&#34;)
        sys.exit()
    self.authorization(0) # æ ¡æœ¬åŒ–æˆæƒå…ˆæ‰§è¡Œ
    return
    
...# ä¸‹é¢ç…§æŠ„
</code></pre><p>æ„å»ºè™šæ‹Ÿç¯å¢ƒéœ€è¦ï¼š</p>
<pre tabindex="0"><code>python3 -m venv /path/to/new/virtual/environment

source /path/to/new/virtual/environment/bin/activate

pip install requests numpy jsonpath

deactivate
</code></pre><p>åœ¨ä½ çš„pyæ–‡ä»¶ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.shï¼š</p>
<pre tabindex="0"><code>#!/bin/bash

VENV_DIR=&#34;/path/to/your/venv&#34;

SCRIPT_PATH=&#34;/path/to/your/script.py&#34;

source &#34;$VENV_DIR/bin/activate&#34;

python &#34;$SCRIPT_PATH&#34;

deactivate

chmod +x /path/to/your/script.sh
/path/to/your/script.sh
</code></pre><p>ç„¶åå°±æ˜¯è€ƒè™‘åœ¨Linuxä¸Šå¦‚ä½•è¿›è¡Œå®šæ—¶ä»»åŠ¡çš„é—®é¢˜ï¼Œç»æŸä½lockeyæœ‹å‹å¯å‘é€‰æ‹©ç›´æ¥ä¸Šå¤§å®¶æ‰€ç†Ÿæ‚‰çš„cronï¼š</p>
<pre tabindex="0"><code>sudo pacman -S cronie
sudo systemctl start cronie.service
sudo systemctl enable cronie.service

crontab -e # è½¬å…¥nanoç¼–è¾‘
0 0 * * * /path/to/your/script.sh # è‡ªè¡Œç…§æ ¼å¼ä¿®æ”¹

#ctrl+oå†™å…¥ï¼Œenterï¼Œctrl+xé€€å‡º

crontab -l # æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰å†™å¥½
</code></pre><p><strong>DONE.</strong></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Smart car - freshman trash version</title>
      <link>https://blog.nanimonai.org/posts/tech/smart-car---freshman-trash-version/</link>
      <pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate>
      
      <guid>https://blog.nanimonai.org/posts/tech/smart-car---freshman-trash-version/</guid>
      <description>A good try for young</description>
      <content:encoded><![CDATA[<h1 id="è¿™æ˜¯ä»€ä¹ˆ">è¿™æ˜¯ä»€ä¹ˆ</h1>
<p>2024æ ¡EEAä¸¾åŠæ— äººè½¦çš„å¾ªè¿¹é¿éšœèµ›ã€‚æ¬£ç„¶è§„å¾€ã€‚</p>
<p><img loading="lazy" src="https://img.nanimonai.org/map.jpg" alt="Map."  />
</p>
<h1 id="ä¸ºä»€ä¹ˆå»åšè¿™ä¸ª">ä¸ºä»€ä¹ˆå»åšè¿™ä¸ª</h1>
<p>å…´è¶£å•Šï¼Œæ··è›‹ï¼éš¾é“è¿˜æ˜¯ä¸ºäº†ä»€ä¹ˆç”Ÿè®¡ä»€ä¹ˆæœªæ¥ä»€ä¹ˆé¥­ç¢—è€Œå»çš„å˜›ï¼Ÿ</p>
<h1 id="å’‹åšçš„">å’‹åšçš„</h1>
<p>åˆšå¼€å§‹å’Œé˜Ÿå‹æ˜¯æœ‰ç”šå¤§çš„æ„æ·«çš„ï¼Œä¼å›¾å…ˆæ•´ä¸ªåˆå·æœºå‡ºæ¥ï¼Œé€‰æ–¹æ¡ˆå°±é€‰äº†æŒºä¹…ï¼Œç„¶åå‚è€ƒäº†å¾ˆå¤šç”¨nanoä¸»æ§ï¼Œè½¦æ¶ä¹Ÿæ˜¯ä¸Šä¾¿å®œçš„äºšå…‹åŠ›ï¼Œå¾ªè¿¹ä¾é pwmè°ƒå€¼ï¼Œéšä¾¿æ•´ä¸ªäº”è·¯çº¢å¤–å¾ªè¿¹æ¥ä¸ªé¢åŒ…æ¿åœ¨æ¥ä¸‰èŠ‚ç”µæ± ä»£ç å†™å†™å°±å®Œäº‹ã€‚äºŒä»£æœºç›´æ¥ä¸ŠPIDç„¶åå†ä¼˜åŒ–æœºæ¢°ç»“æ„ï¼Œæ¢æ›´å¥½ç”µæœºä¹‹ç±»çš„ã€‚</p>
<p><img loading="lazy" src="https://img.nanimonai.org/choulou.png" alt=""  />
</p>
<p>äº‹å®ä¸Šå‘ç°ï¼Œè¿™è°ƒè¯•çš„ä¸œè¥¿ä¹Ÿå¤ªå¤šäº†ã€‚é—®é¢˜å¾ˆå¤šï¼Œæƒ…å†µéå¸¸å¤šï¼Œæ˜¯ä¸€å¼€å§‹æ‰€é¢„æƒ³ä¸åˆ°çš„ã€‚å®ç°ä»£ç é€»è¾‘å°±å¾—æœ‰ä¸åŒçš„æ€è·¯ï¼Œå‰æœŸå…´è‡´å‹ƒå‹ƒåˆ°ï¼ŒåæœŸå°±æ˜¯åšæŒå°±æ˜¯æˆåŠŸï¼Œä»£ç ä»å¼€å§‹çš„ç«‹å¿—ä¼˜åŒ–åˆ°æœ€å®Œç¾ï¼Œåˆ°åæ¥çš„èƒ½è·‘å°±è¡Œï¼Œä¸€ä¼˜åŒ–å°±åˆgäº†ã€‚ä¸åœçš„æµ‹è¯•å’Œæ’æŸ¥æ•…éšœæ˜¯ä¼šä»¤äººçƒ¦èºçš„ï¼Œä¾‹å¦‚ï¼šæˆ‘è¯¯è¯»è¦æ±‚ä»¥ä¸ºè¦å¾ªè¿¹ä¸¤åœˆï¼Œç„¶åæŠ“è€³æŒ è…®å†™æ£€æµ‹é€»è¾‘ï¼Œæœ€ååŸºäºé˜Ÿå‹åŸæ¥ä»£ç å†™çš„æ˜¯ï¼š</p>
<pre tabindex="0"><code>void loop() {
  if(digitalRead(Button) == 0){
    if (i &lt; 5){
      if(distance &gt;25){
        delay(10);
        xunxian();
      }
      else{
        bizhang();
      }
    }
    else{
      Motor(0, 0);
    }
  }
  else{
    Motor(0,0);
  }
}

...
xunxian()
...
else if (SL2 == 0 &amp;&amp; SL1 == 0 &amp;&amp; SR1 == 0 &amp;&amp; SR2 == 0 &amp;&amp; (SR3 == 0 || SL3 == 0)) {
    Motor(108+v,118+v);
    delay(10);
    i++;
  }
...
</code></pre><p>è¿™æ ·ä¸€å¨æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå½¢å®¹çš„æ„æ€ï¼Œç›´æ¥ç»™é˜Ÿå‹åé¢è°ƒè½¦é€ æˆå¾ˆå¤§çš„å›°æ‰°ï¼Œè™½ç„¶æœ€åå‘ç°æ˜¯ç”µæ± ç”µå¿«æ— äº†ï¼Œå¯¼è‡´å¾ªè¿¹éƒ½å‡ºç°é—®é¢˜å¸¦ä¸åŠ¨ç”µæœºè½¬å‘ã€‚</p>
<p>å°è¯•è¿‡äº”è·¯çº¢å¤–å’Œå…‰ç”µä¹‹åéƒ½ä¸è¡Œï¼Œé‚£ä¸ªbä¼ æ„Ÿå™¨ä¸ç¨³å®šäºæ˜¯ä¹å°±æœ‰ä¸€å †çš„è¯¯åˆ¤ï¼Œç„¶åå°±è°œä¹‹æ“ä½œã€‚åæ¥ç›´æ¥ä¸Šäº†å…­è·¯ç°åº¦ç›´æ¥çˆ½é£ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µçš„debugã€‚
<img loading="lazy" src="https://img.nanimonai.org/car.jpg" alt=""  />
</p>
<p>å…¶å®ï¼Œç¬”è€…è§‰å¾—ä¸ç®¡æ˜¯ç«èµ›è¿˜æ˜¯æŠ˜è…¾ä¸œè¥¿ï¼Œå°±æ˜¯ä¸€ä¸ªç››å¤§çš„debugè¿‡ç¨‹ã€‚ä¸–ç•Œå°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„è‰å°ç­å­ã€‚é•¿æœŸçš„æ¸¸æˆè®©æˆ‘ç»ƒå°±äº†è¢«é˜Ÿå‹å¬‰ç¬‘æ€’éª‚ä¸å½¢äºè‰²çš„æœ¬é¢†ï¼Œæˆ‘å¯ä»¥ä¿è¯ä¸é¦–å…ˆä½¿ç”¨è¨€è¯­æ”»å‡»å‡æƒ³æ•Œçš„å®¶äººï¼Œä¹Ÿä¿è¯ä¸ç¬¬ä¸€ä¸ªç»™é˜Ÿå‹ä¸Šå‹åŠ›ã€‚å…¶æ¬¡èœäº†å¾—æ‰¿è®¤ã€‚æœ€åï¼Œè¦æœ‰ä¸€é¢—æŠ˜è…¾çš„å¿ƒï¼Œè¿™æ–¹é¢å¯èƒ½EOSæ•™ä¼šæˆ‘çš„æ›´å¤šä¸€äº›ï¼Œé‡è§ä¸åŒç§ç±»ï¼Œä¸åŒæ–¹å¼çš„é—®é¢˜åˆéš¾ï¼Œæœ‰ä¸€äº›æ˜¯å¾ˆå€¼å¾—è®°å½•ä¸‹æ¥çš„ï¼Œæˆ‘ä»¥åä¹Ÿä¸€å®šè¶ç€è‡ªå·±è¿˜æ¸…é†’è¦å†™æ–‡ç« è®°å½•ä¸€ä¸‹ã€‚</p>
<p>è¿™æ ·çœ‹ä¸‹æ¥ï¼ŒæŠ˜è…¾çš„é‚£äº›ä¾¿ä¸è¶³ä¸ºå¥‡äº†ï¼Œæœ¬å°±æ˜¯ä¸€ç›´æŠ˜è…¾çš„é’æ˜¥ï¼Œæˆ‘å€’æ˜¯ä¸ä»‹æ„å¤šå­¦ç‚¹å¤šæŠ˜è…¾ç‚¹ä¸œè¥¿ã€‚æœ€åæ˜¯ä¸€æ‹è„‘è¢‹æƒ³èµ·æ¥æˆ‘è¿˜æœ‰ç”µæ± ï¼Œåˆšå¥½èƒ½å®Œèµ›æ²¡çŠ¯ç—…ã€‚çœ‹ä¸‹æ¯”èµ›å¯ä»¥çœ‹åˆ°å¾ˆå¤šè¿˜å€¼å¾—å­¦çš„ä¸œè¥¿ï¼Œpwmè°ƒé€Ÿæ˜¯è‚¯å®šæ¯”ä¸ä¸Špidçš„ï¼Œç„¶åæœºæ¢°ç»“æ„çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚æŸå¤§è·Œåœ¨ç°åœºæŒ‡å‡ºå¯ä»¥æŠŠä¼ æ„Ÿå™¨æ¶è®¾åœ¨ä¸­é—´ï¼Œä¼šæœ‰åˆ©äºè½¦çš„æ€§èƒ½æå‡ã€‚å¯ä»¥å‚è€ƒåˆ°å¾ˆå¤šç»„ä¸åŒçš„å®ç°æ€è·¯ï¼Œè¿™ä¸ªæ¯”èµ›æœ¬èº«çš„æ„ä¹‰å°±å·²ç»å½°æ˜¾ï¼Œå¤§å­¦ç¼ºä¹æ€ç»´çš„ç›¸äº’ç¢°æ’å’Œæ¿€å‘ï¼Œå½“ç„¶å¤§å¤šæ•°äººæ˜¯ä¸ç»æ„é—´çš„ï¼Œæ•™ä¼šä½ ä¸œè¥¿çš„å¯èƒ½æ˜¯ä¸€ä¸ªè¯éƒ½è®²ä¸ä¸Šå‡ å¥çš„ç±»é™Œç”Ÿäººã€‚</p>
<p>ç„¶åæˆ‘åœ¨åæ€ï¼Œå¦‚æœæˆ‘å¤±è´¥äº†ï¼Œä¸€å¦‚æˆ‘ä¹‹å‰çš„äº›å¥‡å¥‡æ€ªæ€ªbugï¼Œæœ‰çš„æ—¶å€™ttyéƒ½è¿›ä¸å»ï¼Œç¤¾åŒºçš„æ–¹æ¡ˆä¹Ÿéƒ½å°è¯•è¿‡äº†ã€‚å¤±è´¥äº†ï¼Œæˆ‘è¿˜ä¼šè®°å½•è¿™äº›å—ã€‚ç­”æ¡ˆå¾ˆæœ‰å¯èƒ½æ˜¯å¦ï¼Œæˆ‘ä¼šå»è‡ªæƒè‡ªå·±çš„è®°å¿†ï¼Œè€Œæ°¸è¿œå»é€ƒé¿é—®é¢˜ä¸äº†è§£å…¶å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è‡ªèº«çš„è¿›æ­¥ä»ç„¶æ˜¯åŸºäºä¸€ç§è„†å¼±çš„ä¼˜è¶Šè€…å‡æƒ³ç”šè‡³æ˜¯è‡ªè´Ÿè®ºã€‚è¿˜æ˜¯ä¸åœ¨teché‡Œè®¨è®ºè‡ªç”±æ„å¿—å’Œä¸ªäººå‘å±•çš„å­°ä¼˜å­°åŠ£ï¼Œå¤šå­¦å¤šåšå°±å¥½ã€‚</p>
<p>ï¼ˆå®Œç¯‡çš„æ—¶å€™ï¼Œæ—¶é’Ÿæ­£å¥½åœåœ¨è‡ªå·±çš„åä¹å²ç”Ÿæ—¥çš„æœ€åä¸€åˆ†é’Ÿï¼Œå¾ˆå¥‡å¦™çš„ä½“éªŒï¼Œè‡ªå·±å·²ç»ç«‹ä¸‹å†³å¿ƒå°†æ‰€æœ‰èŠ‚æ—¥ä»¥å¹³å¸¸å¿ƒçœ‹å¾…ï¼Œçœ‹æ·¡ç”Ÿæ´»çš„ç§ç§æ³¢æ¾œï¼Œä¹Ÿä¸ç›¸ä¿¡çŸ¥å¤©å‘½çš„è¯æœ¯ï¼Œä½†ä»ä¼šä¸‹æ„è¯†æœ‰æ‰€æ³¨æ„ï¼Œæ„Ÿæ…¨å°æ—¶å€™é‚£ä¸ªä¸€åˆ°ç”Ÿæ—¥å°±æœŸç›¼ç€åˆ«äººç¥ç¦çš„å•çº¯çš„æˆ‘ï¼Œå·²ç»è¿‡å»è¿™ä¹ˆä¹…äº†å•Šã€‚é™é™åœ°ç­‰å¾…è¿™ä¸€åˆ†é’Ÿæµé€è¿‡å»ã€‚ç»å†è‡ªå·±å˜è€çœŸçš„æ˜¯ä¸€ä»¶å¥‡å¦™çš„äº‹æƒ…å•Šï¼Œä¸è¿‡æˆ‘ä¹Ÿæ— æ‚”å»è‚†æ„åœ°æŒ¥éœæˆ‘çš„é’æ˜¥ã€‚ï¼‰</p>
<p><strong>DONE.</strong></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>WeCom check-in crack</title>
      <link>https://blog.nanimonai.org/posts/tech/wecom-check-in-crack/</link>
      <pubDate>Tue, 02 Jan 2024 00:00:00 +0000</pubDate>
      
      <guid>https://blog.nanimonai.org/posts/tech/wecom-check-in-crack/</guid>
      <description>Out of time</description>
      <content:encoded><![CDATA[<h1 id="ä¸ºä»€ä¹ˆç ”ç©¶è¿™ä¸ª">ä¸ºä»€ä¹ˆç ”ç©¶è¿™ä¸ª</h1>
<p>å­¦æ ¡åœ¨ä¼ä¸šå¾®ä¿¡é‡Œé¢è¦æ±‚æ‰€æœ‰å¤§å­¦ç”Ÿåœ¨21:30-23:00æœŸé—´è¿›è¡Œæ‰“å¡æ“ä½œã€‚é‰´äºä¼ä¸šå¾®ä¿¡çš„ä½ç½®è·å–ä¸æ˜¯ä¸€èˆ¬çš„æŠ½è±¡ï¼Œé™¤äº†æŸ¥çœ‹ä½ çš„GPSä¿¡å·å¤–è¿˜æœ‰è°ƒç”¨é™„è¿‘çš„åŸºç«™è¿›è¡Œå®šä½ï¼ˆè¥¿ç“œå’ŒMike è¯­ï¼‰ï¼Œæœ€ä¸ºé€†å¤©çš„æ˜¯æœ¬äººçš„ç§»åŠ¨è®¾å¤‡æ˜¯å“„è’™ç³»ç»Ÿï¼Œä¹Ÿå°±æ— æ³•äº«ç”¨è¯¸å¤šå…ˆè¿›ç§‘æŠ€å¸¦æ¥çš„ä¾¿åˆ©ã€‚</p>
<p>å› æ­¤ï¼Œç¬¬ä¸€ç§æ–¹æ³•åº”è¿è€Œç”Ÿï¼š</p>
<ol>
<li>
<p>åœ¨æ‰‹æœºä¸Šå®‰è£…VMOS Proï¼Œèµ°è™šæ‹Ÿæœºè·¯çº¿ã€‚å…¶ä¸­çš„rootå’ŒXposedçš„æ¨¡å—å®‰è£…å‡ä¸ºå‚»ç“œå¼æ“ä½œï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ã€‚BTWï¼Œè™šæ‹Ÿå®‰å“æœºåœ¨å¤§å­¦çš„å¦ä¸€å¤§ç”¨é€”å°±æ˜¯é€šè¿‡å­¦ä¹ é€šè€ƒè¯•ã€‚</p>
</li>
<li>
<p>å®‰è£…åº”ç”¨å˜é‡ï¼ŒFake locationï¼ˆfuck locationçš„å¼€å‘è€…åœ¨å®‰å“10ä¸Šæµ‹è¯•è¿‡ï¼Œä½†æ˜¯VMOS Proç‰ˆæœ¬åªæœ‰7.1å’Œ9ï¼Œæœ‰å…´è¶£è€…å¯ä»¥å°è¯•ä¸€ä¸‹èƒ½å¦å¯è¡Œï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦çš„æ˜¯å…·æœ‰åŸºç«™æ¨¡æ‹ŸåŠŸèƒ½çš„ä½ç½®æ¨¡æ‹Ÿè½¯ä»¶ã€‚åœ¨å½“å‰è¯ˆéª—çŒ–ç—çš„æƒ…å†µä¸‹è‡ªå»ºä¼ªåŸºç«™æ˜¯ä¸åˆ‡å®ä¸”æ— å¼‚äºæ‰¾æ­»çš„ã€‚Fake locationéœ€è¦çˆ†ç±³ï¼Œæˆ‘è®°å¾—7r/æœˆã€‚</p>
</li>
<li>
<p>Xposed Installeråï¼Œæ¿€æ´»åº”ç”¨å˜é‡ï¼Œé…ç½®æŒ‡å®šåº”ç”¨ï¼ˆå¦‚ä¼ä¸šå¾®ä¿¡ï¼‰ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ä½ çš„å®‰å“ç‰ˆæœ¬ï¼ŒIMEIå’ŒMEIDè¿™å‡ ä¸ªéœ€è¦ç•™æ„ã€‚å¦‚æœä½ åœ¨ä¹‹å‰çš„æ‰‹æœº/æ¯é¸¡ä¸Šé¢æ‰“è¿‡å¡äº†ï¼Œè¿™äº›å°±è¦åŸå°ä¸åŠ¨çš„æŠ„åŸæ¥æ‰‹æœºã€‚åä¹‹åˆ™æ— æ‰€è°“ã€‚</p>
</li>
<li>
<p>å¯åŠ¨fake locationã€‚ä½ç½®é€‰æ‹©åˆ°ä½åå¯åŠ¨æ¨¡æ‹Ÿï¼ŒåŒæ—¶å¯åŠ¨åŸºç«™æ¨¡æ‹Ÿã€‚</p>
</li>
</ol>
<p>PSï¼šæ­¤æ³•æ˜¯ç”±Mikeå’Œå¤§è¥¿ç“œç ”ç©¶è€Œå‡ºã€‚æ­¤æ³•ä¹Ÿæœ‰åŠ©äºä¸åŒå¤§å­¦çš„ä¸Šè¯¾æ‰“å¡æœºåˆ¶ï¼ˆæˆ‘æ‰€äº†è§£çš„å…¶ä»–å¤§å­¦çš„æ‰“å¡æœºåˆ¶ä¸æ˜¯å¾ˆä¸¥æ ¼ï¼‰ï¼Œä¸Šç­æ—çš„ä¸Šç­æ‰“å¡æœºåˆ¶ã€‚ä»¥åŠFake locationçš„è·¯çº¿æ¨¡æ‹Ÿï¼Œå¯ä»¥å¸®åŠ©æœ‰éœ€è¦è€…è¿›è¡Œè·‘æ­¥çš„æ¨¡æ‹Ÿã€‚ï¼ˆå¯¼å…¥è¿åŠ¨è½¯ä»¶è¿›è¡Œæ“ä½œäº‘äº‘ï¼‰ï¼Œç½‘ç»œä¸Šé¢å¾ˆå¤šå¤§ä½¬ä¹Ÿè®²è¿‡ç±»ä¼¼æ“ä½œï¼Œæœ¬äººè¿™æ ·å¸®è¿‡æœ‹å‹ï¼Œè¯æ˜å…¶å¯è¡Œæ€§ã€‚å°±æ˜¯ç”»è·¯çº¿çš„æ—¶å€™åˆ«è¶…å‡ºæ“åœºæˆ–è€…æ’å¢™é‡Œé¢äº†ï¼Œä»¥å…éœ²é¦…ã€‚</p>
<h1 id="å¥½æ—¥å­çš„ç»“æŸ">å¥½æ—¥å­çš„ç»“æŸ</h1>
<p>åœ¨ä¸€æ¬¡ç¾ç¾ä¸è¯·å‡è€Œå‡ºæ¸¸çš„æ—¥å­ä¸­ï¼Œæˆ‘æ„å¤–å‘ç°ç¬¬ä¸€ç§æ–¹æ³•å¤±æ•ˆäº†ã€‚å…¶å…·ä½“è¡¨ç°ä¸ºï¼šåœ°å›¾è¯†åˆ«æˆ‘åœ¨Aåœ°ï¼ˆGPSï¼‰ï¼Œä¹Ÿå°±æ˜¯ç›®æ ‡æ‰“å¡åœ°ï¼Œä½†æ˜¯æˆ‘çš„ä¼ªè£…è¢«ä¼ä¸šå¾®ä¿¡è¯†ç ´ï¼Œå³å®ƒèƒ½å‡†ç¡®å®šä½åˆ°æˆ‘çš„çœŸå®æ‰€åœ¨åœ°Båœ°ã€‚è€Œè¿™ä¸ªæ–¹æ¡ˆæ˜¯åœ¨2023.12ä¹‹å‰éƒ½æœ‰æ•ˆçš„ï¼Œä¸”äº²è‡ªå®éªŒè¿‡çš„ã€‚ç›®å‰å¤±è´¥åŸå› ä¸æ˜ï¼Œæœ‰æ€è·¯è€…æ¬¢è¿è”ç³»æˆ‘ä¸€èµ·æ¢è®¨ã€‚</p>
<p>åç»æ’æŸ¥åŸå› æ— æœåï¼Œé«˜äººOOæŒ‡ç‚¹é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚</p>
<p>OOæŒ‡å‡ºå¯ä»¥ä½¿ç”¨å¤‡ç”¨æœºè£…ä¼ä¸šå¾®ä¿¡ç„¶åå†™è‡ªåŠ¨è„šæœ¬å®Œæˆæ‰“å¡ï¼Œå¹¶ä¸”è‡ªå·±å®éªŒæˆåŠŸã€‚</p>
<p>è™½ç„¶è¯´ç”¨çš„æ˜¯è€æ—§çš„å¤‡ç”¨æœºã€‚ä½†æ˜¯ä»ç„¶è¦æ³¨æ„è‡ªå·±çš„å®‰å…¨ï¼Œéšç§ç­‰ã€‚æˆ‘æœ€å¼€å§‹è¯•éªŒæ˜¯åœ¨Hamibotä¸Šï¼ŒHamibotå¯ä»¥è¿œç¨‹æ‰§è¡Œè„šæœ¬ï¼Œå®‰å…¨ç³»æ•°ä½ã€‚å®ƒç®—ä¸€ä¸ªäº‘ç«¯æ§åˆ¶ï¼Œç†è®ºä¸Šè®²æœåŠ¡å™¨åé€€å¯ä»¥çœ‹æˆ‘æ‰‹æœºçš„å†…å®¹ç”šè‡³æ§åˆ¶ï¼Œæ‰€ä»¥å¹¶ä¸æ¨èè¿™ä¸ªå¹³å°ã€‚é‡Œé¢è™½ç„¶æœ‰æ—¥å¿—ï¼Œä½†æ˜¯æœåŠ¡å™¨æ˜¯å¤–äººçš„ã€‚å¼€å‘æ–‡æ¡£é‡Œé¢æœ‰æ‰«ææ–‡ä»¶ï¼Œæˆªå±ï¼ŒOCRè·å–ä¿¡æ¯ã€‚ç†è®ºä¸Šèƒ½è·å–ä½ æ‰‹æœºçš„ä»»ä½•æ“ä½œå•ä»…é™äºæ˜¾ç¤ºæ—¶å€™ï¼Œé”å±æ²¡æœ‰å¯†ç è„šæœ¬çš„è¯ï¼Œä¹Ÿæ˜¯å¼€ä¸èµ·æ¥çš„ã€‚å¦‚æœçœŸè¦ä½¿ç”¨ä¹Ÿå»ºè®®æ˜¯æš‚æ—¶ä½¿ç”¨å‡ æ¬¡ï¼Œä¸éœ€è¦ä½¿ç”¨çš„æ—¶å€™æ¨èå…³é—­æ— éšœç¢ã€‚</p>
<p>é„™äººçš„è„šæœ¬è·‘åœ¨ä¸€ä¸ªå«OpenAuto.jsçš„å¼€æºè½¯ä»¶ä¸Š<a href="https://github.com/openautojs/openautojs">(Github)</a>ç›®å‰æµ‹è¯•ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œç”šè‡³ä¼˜äºHamibotï¼Œå› ä¸ºå…¶å¯ä»¥è®¾ç½®è„šæœ¬çš„å®šæ—¶æ‰§è¡Œå’Œå¾ªç¯æ‰§è¡Œï¼Œå¯ä»¥å®Œæˆå¾ˆå¤šå¾ˆå¤šçš„å…¶ä»–æ“ä½œè€Œä¸ç”¨æŠŠè¿™äº›å†…å®¹åŠ åˆ°è„šæœ¬ç¼–å†™é‡Œé¢å»ã€‚ä½†è¿˜æ˜¯è¦æä¾›æ— éšœç¢å’Œä¸€äº›æƒé™ï¼Œå› æ­¤ä»ç„¶å»ºè®®æ‰¾å°å¤‡ç”¨æœºã€‚</p>
<ol>
<li>
<p>è®¾ç½®æ— éšœç¢ï¼Œçœç”µè®¾ç½®äº‘äº‘ã€‚</p>
</li>
<li>
<p>æ’°å†™å¹¶è¿è¡Œè„šæœ¬ã€‚</p>
</li>
</ol>
<p>è„šæœ¬ç¼–å†™å¯ä»¥å‚è€ƒ<a href="https://github.com/hlsky1988/WeChatCheckingIn">(Github)</a>ï¼Œä»–æ˜¯å†™Hamibotä¸Šçš„è„šæœ¬çš„ï¼Œå¯ä»¥å‚è€ƒå€Ÿé‰´æ€è·¯ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘çš„æ‰“å¡è„šæœ¬ï¼Œç½‘ç»œä¸Šæœ‰äººè¯´å¿«æ·æ‰“å¡å¤±è¯¯ç‡è¾ƒé«˜ï¼Œé„™äººå€’æ˜¯æ²¡é‡åˆ°è¿‡æ‰€ä»¥ç›´æ¥é€‰æ‹©å¿«æ·æ‰“å¡ã€‚è¿™æ ·è¿›ä¼ä¸šå¾®ä¿¡å°±è¡Œäº†ï¼Œä¸ç”¨å»å®Œå–„å¯¼èˆªåˆ°æ‰“å¡æ å†ç‚¹å‡»æ‰“å¡çš„æ“ä½œã€‚</p>
<pre tabindex="0"><code>// ç¡®ä¿å¼€å¯äº†Auto.jsçš„æ— éšœç¢æœåŠ¡
auto.waitFor();

// å”¤é†’å¹¶è§£é”è®¾å¤‡ï¼ˆæ ¹æ®ä½ çš„è®¾å¤‡æƒ…å†µï¼Œè¿™é‡Œå¯ä»¥è‡ªå®šä¹‰è§£é”é€»è¾‘ï¼‰
device.wakeUp();
let { height, width } = device
let x = width / 2
let y1 = (height / 3) * 2
let y2 = height / 3
swipe(x, y1, x + 5, y2, 500)
sleep(3000)
toastLog(&#39;å¯åŠ¨ä¼ä¸šå¾®ä¿¡,å‡†å¤‡æ‰“å¡&#39;)


// å¯åŠ¨ä¼ä¸šå¾®ä¿¡
app.launchPackage(&#34;com.tencent.wework&#34;);

//æ­¤æ—¶åº”è¯¥ä¼šè‡ªåŠ¨å®Œæˆæ‰“å¡

// ç»“æŸè„šæœ¬
exit();
</code></pre><p><strong>DONE.</strong></p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
